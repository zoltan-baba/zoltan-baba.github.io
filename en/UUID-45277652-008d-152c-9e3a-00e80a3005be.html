<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><script xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" type="text/javascript">
			var index;
			var contentLanguage = 'en';
			var enterKey = 'select';
			
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			</script><title>Developing your own Bitrise Step</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style.css"></link><link rel="stylesheet" type="text/css" href="../css/style-responsive.css"></link><script src="../js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.event.move.js" type="text/javascript"></script><script src="../js/jquery.event.swipe.js" type="text/javascript"></script><script src="../js/jquery.sticky.js" type="text/javascript"></script><script src="../js/respond.min.js" type="text/javascript"></script><script src="../js/script.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" name="generator" content="Paligo"></meta><meta name="description" content="You can develop your own Bitrise Steps and your own project scanner, and submit them to Bitrise so that other users can use them, too."></meta><link rel="prev" href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html" title="Setting a time limit for Steps"></link><link rel="next" href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html" title="Workflows"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../js/cookie-consent.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></head><body xmlns:php="http://php.net/xsl" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><div id="page" class="clearfix"><div id="header"><div class="container"><div id="logotype-container" class="pull-left"><a href="../index.html"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype"></img></a></div><div id="pagetools-container" class="pull-right"><ul id="page-tools"><li class="page-tools-search"><input placeholder="Search" type="text" class="form-control" aria-label="Search" id="search"></input></li><li class="page-tools-print"><a href="javascript:window.print();"><span class="tool-label">Print</span><span class="glyphicon glyphicon-print"></span></a></li></ul></div></div></div><h1 id="publication-title">Parent publication</h1><div id="subheader-sticky-wrapper" class="sticky-wrapper"><div id="subheader"><div class="container"><div class="row"><div class="col-md-3 toc-title"><h2><a class="prev nav-icon hidden-lg hidden-md" href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html"><span class="glyphicon glyphicon-chevron-left"></span> </a><a href="#toc" class="hidden mobile-nav-toggle"><span class="glyphicon glyphicon-list"></span>Table of Contents</a><span class="toc-label">Table of Contents</span><a class="next nav-icon hidden-lg hidden-md" href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html"><span class="glyphicon glyphicon-chevron-right"></span> </a></h2></div><div class="col-md-9 breadcrumb-container"><ul xmlns:util="http://www.paligo.net/xsl1/functions/utility" class="breadcrumb"><li class="breadcrumb-link"><span class="glyphicon glyphicon-home"></span> <span class="current-category">Parent publication</span></li><li class="breadcrumb-link"><a>Welcome to Bitrise documentation!</a></li><li class="breadcrumb-link"><a href="UUID-bf795ad3-7684-a92f-12e3-7f40724cc24c.html">Workflows and Pipelines</a></li><li class="breadcrumb-node">Developing your own Bitrise Step</li></ul></div></div></div></div></div><div id="main-content"><div class="container"><div class="row"><div class="col-md-3 toc-container" id="toc-wrapper"><div id="toc-placeholder"><ul class="toc"><li><a href="UUID-6417de03-03ef-7c79-83a0-26f08db51f10.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Welcome to Bitrise documentation!</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-000c8bad-6d7f-0d5d-b401-26d496fba183" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-45c98b6e-ff48-e720-c001-f3959ff58028" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-15a4b450-3823-111b-a88a-98f66ef246cc" class="topic-link">Adding a new app</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-ddaf0b44-cc2e-e0da-0268-aaa5e0a10ba6" class="topic-link">Webhooks and triggers</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-efd02dd1-4217-aaf4-87c0-debd71494d1c" class="topic-link">Builds and Workflows</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-b4be56a8-29cb-9a91-da5a-2221b0e200ed" class="topic-link">Testing and deploying</a></li><li><a href="UUID-8879f258-0558-f6ee-98e5-5a2506d82df9.html" class="topic-link">Migrating to Bitrise</a></li><li><a href="UUID-9dc60577-d179-a769-7d72-d59b459e13d1.html" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-d2dc0473-cf38-63d8-804f-9ea086df9756.html" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-bb7c5561-43c7-fce8-d0d1-5b426246c350.html" class="topic-link">Adding a new app</a></li><li><a href="UUID-81a6851f-9012-17b1-188b-167cce87cfb9.html" class="topic-link">Getting started with iOS apps</a></li><li><a href="UUID-a4a3c266-19bb-8741-cd56-40fee645d58b.html" class="topic-link">Getting started with Android apps</a></li><li><a href="UUID-4d21f88e-bcef-8665-7827-4ae0f68faeb2.html" class="topic-link">Getting started with React Native apps</a></li><li><a href="UUID-40b0a17c-5aa4-821c-9d80-17003cdf6c1c.html" class="topic-link">Getting started with Flutter apps</a></li><li><a href="UUID-9872034d-c75b-ac41-77c9-2be96702439c.html" class="topic-link">Getting started with Ionic/Cordova apps</a></li><li><a href="UUID-d27d764d-2fde-f7ac-4720-1d02853a67aa.html" class="topic-link">Getting started with Expo apps</a></li></ul></li><li><a href="UUID-520baf25-3180-0ceb-91b5-1e0da25382d0.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Infrastructure</a><ul><li><a href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html" class="topic-link">Build machines</a></li><li><a href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html" class="topic-link">Build stacks</a></li><li><a href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html" class="topic-link">Code security</a></li><li><a href="UUID-49f916c8-22af-0ba9-036c-e9ebc6ea84a9.html" class="topic-link">Customizable enterprise build platforms</a></li><li><a href="UUID-328bfe61-e2fb-9b6b-6b93-6345a4ba97dd.html" class="topic-link">Using your own Docker image</a></li><li><a href="UUID-a1c6c4a9-2bfa-77f5-0299-f1f1ba1deaa9.html" class="topic-link">Running your build locally in Docker</a></li></ul></li><li><a href="UUID-86714967-7e3d-c756-42f9-9ac1db7edb4a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Accounts</a><ul><li><a href="UUID-4d3ea107-005d-70dd-2a77-359c84e92781.html" class="topic-link">Connecting to services</a></li><li><a href="UUID-aadae04b-8b51-3d8f-0c55-6323223e7b29.html" class="topic-link">SAML SSO in Bitrise</a></li><li><a href="UUID-7fb1877e-7cf1-93c8-e09f-40ed90eedbe4.html" class="topic-link">Editing your profile settings</a></li><li><a href="UUID-98fae107-f00b-060f-6d1e-8076a6e360b0.html" class="topic-link">Resetting your password</a></li><li><a href="UUID-0cd731ce-5173-4a0b-d169-cf7caee9eb7c.html" class="topic-link">Two-factor authentication</a></li><li><a href="UUID-bc4ede62-d9f4-97dc-f34e-09782465c93e.html" class="topic-link">Personal access tokens</a></li><li><a href="UUID-fa9c37a1-64d0-5c74-f324-b198ad66462d.html" class="topic-link">Deleting your Bitrise account</a></li></ul></li><li><a href="UUID-66682ae4-b435-da98-c588-4cb36589e592.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workspaces</a><ul><li><a href="UUID-b2672a81-1e7e-0ab4-55dc-44396d01a5b5.html" class="topic-link">Creating Workspaces</a></li><li><a href="UUID-b0887572-7a06-ffb9-1d63-1adc4de6bd9c.html" class="topic-link">Workspace billing and invoicing</a></li><li><a href="UUID-39752d56-7087-4b7e-67a0-7b4cbeb0bfe0.html" class="topic-link">Workspace groups</a></li><li><a href="UUID-0e48bb3c-f26a-2076-c9a9-889c3d955549.html" class="topic-link">Managing the owners of a Workspace</a></li><li><a href="UUID-74ca6188-a67e-c5b2-4ace-282d652ef8d8.html" class="topic-link">Workspace FAQ</a></li></ul></li><li><a href="UUID-c94ad031-477a-dc62-bfb2-be8a740da8c3.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Apps</a><ul><li><a href="UUID-c98a5e1e-cd0c-42b3-00bf-70ab149c6974.html" class="topic-link">Webhooks</a></li><li><a href="UUID-66811810-1d10-b6b9-3aa2-3d886f843f08.html" class="topic-link">Configuring the repository URL and default branch</a></li><li><a href="UUID-b567647e-2421-59ae-7fd8-ec3d3e337378.html" class="topic-link">Configuring SSH keys</a></li><li><a href="UUID-a34567f4-74e4-1f1d-7d8d-96cbffcad04f.html" class="topic-link">Managing user access to an app</a></li><li><a href="UUID-a89f6244-90e5-bb75-35b5-730d57a0daf8.html" class="topic-link">User roles on app teams</a></li><li><a href="UUID-0a12640a-cf3e-6089-dd61-8f3d5da9ca27.html" class="topic-link">Changing the owner of an app</a></li><li><a href="UUID-4f3d837e-5293-365c-4da6-e69b8795cad3.html" class="topic-link">Enabling the Bitrise Support Access for your app</a></li><li><a href="UUID-7977c15f-d343-5588-763e-34b407ef2d6d.html" class="topic-link">Apps with submodules or private repo dependencies</a></li><li><a href="UUID-20ad211e-6e31-4fe0-bca8-61358e546ed2.html" class="topic-link">Public apps</a></li><li><a href="UUID-30061fe3-6a35-8213-71dd-492d8203959f.html" class="topic-link">Creating white label app versions</a></li></ul></li><li><a href="UUID-bf795ad3-7684-a92f-12e3-7f40724cc24c.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workflows and Pipelines</a><ul><li><a href="UUID-922d7042-4d8c-ecaf-aa47-00a99e408e72.html" class="topic-link">Steps</a></li><li><a href="UUID-efdef6c2-cf0b-4921-7186-79a7db0e9bea.html" class="topic-link">Adding Steps to a Workflow</a></li><li><a href="UUID-be3b0e80-c6fd-363e-1b8c-d71e53b9db6c.html" class="topic-link">Step versioning</a></li><li><a href="UUID-f33fb9b7-70bb-f3f1-e4c5-2ce6bbc59a70.html" class="topic-link">Step inputs</a></li><li><a href="UUID-9bcaffa9-f602-c3e4-a8cb-1bb7cfe04760.html" class="topic-link">Skipping Steps</a></li><li><a href="UUID-2b8c8853-f79a-c077-88d6-35eab62e5bb5.html" class="topic-link">Enabling or disabling a Step conditionally</a></li><li><a href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html" class="topic-link">Setting a time limit for Steps</a></li><li><a href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html" class="topic-link">Developing your own Bitrise Step</a></li><li><a href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html" class="topic-link">Workflows</a></li><li><a href="UUID-c30c1c55-0442-47eb-8332-5d12d7f86b03.html" class="topic-link">Default Workflows</a></li><li><a href="UUID-4053e094-d35f-04b9-2ddc-82c470cbe0f6.html" class="topic-link">Creating a Workflow</a></li><li><a href="UUID-23564ae8-b234-0635-694e-7272b31f5ab4.html" class="topic-link">Managing Workflows</a></li><li><a href="UUID-72c92b04-4c0e-fde0-26ab-122240ad1021.html" class="topic-link">Copying Workflows from one app to another</a></li></ul></li><li><a href="UUID-40454aa8-e0ff-ee45-7f68-d733d663b05d.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Builds</a><ul><li><a href="UUID-3daa70a4-ac48-5727-e5fa-34d46303ecef.html" class="topic-link">Configuring build settings</a></li><li><a href="UUID-8749ff03-1d05-9854-489b-c791d9a40463.html" class="topic-link">Starting builds</a></li><li><a href="UUID-e01af56f-e7e8-042a-b224-6d8e895014f7.html" class="topic-link">Caching</a></li><li><a href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html" class="topic-link">Managing build files</a></li><li><a href="UUID-7ee2edb2-aa92-cbc7-e229-4177d416abd0.html" class="topic-link">Environment Variables</a></li><li><a href="UUID-bfc35b35-3895-2edb-471b-ab040993c3bf.html" class="topic-link">Secrets</a></li><li><a href="UUID-a2d504d0-aa72-895e-5ec6-998fbbe323da.html" class="topic-link">Build statuses</a></li><li><a href="UUID-4b5b1437-c4e5-7367-e994-b5738e643e14.html" class="topic-link">Installing tools during a build</a></li><li><a href="UUID-eaf0f2d1-5761-4afb-ddd6-55587fd7d005.html" class="topic-link">Connecting to a VPN during a build</a></li><li><a href="UUID-0873b810-755d-fc96-7bc7-c3c5abaeb537.html" class="topic-link">Finding a specific build</a></li><li><a href="UUID-0d5f20be-06fb-37bc-5603-4310b4c54ca0.html" class="topic-link">Build numbering and app versioning</a></li><li><a href="UUID-fa640ec3-6a1b-3975-89a3-5ef429bd5db4.html" class="topic-link">Build data and troubleshooting</a></li></ul></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Code signing</a><ul><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4631258650456032720420480273" class="topic-link">iOS code signing</a></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4611295222790432720420899685" class="topic-link">Android code signing</a></li><li><a href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" class="topic-link">Android code signing</a></li><li><a href="UUID-31ae6f50-5e6c-3854-a3ba-3b0c408f2bcf.html" class="topic-link">iOS code signing</a></li></ul></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Testing</a><ul><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4582261199457633614655441813" class="topic-link">iOS testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4554386107363233615372540591" class="topic-link">Android testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4588064863241633615395298671" class="topic-link">Flutter testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm453276716924643361540097373" class="topic-link">React Native testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4587277360200033615408088734" class="topic-link">Device testing with Firebase</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4589017689313633615416505697" class="topic-link">Test Reports</a></li><li><a href="UUID-4e5399ab-e144-4ece-9e5e-b79866bee64b.html" class="topic-link">Test Reports</a></li><li><a href="UUID-19be1017-9668-f17a-1034-b76f08805e49.html" class="topic-link">Exporting to Test Reports from any Step</a></li><li><a href="UUID-b81c44d0-a3c5-dd6d-0c67-5439429d0b33.html" class="topic-link">Running unit and UI tests for iOS apps</a></li><li><a href="UUID-c8b0f3dc-005c-e07b-3dba-bd992fe4df99.html" class="topic-link">Installing an .ipa file</a></li><li><a href="UUID-f8def6f5-0edf-0478-fe79-a7b56ecf368f.html" class="topic-link">Registering test devices for iOS apps</a></li><li><a href="UUID-eb9315e2-7ece-a2d8-dc0b-df35239335b1.html" class="topic-link">Device testing for iOS</a></li><li><a href="UUID-aef3a46c-6266-9e04-37ea-a33c3bd19a67.html" class="topic-link">Running Android unit tests</a></li><li><a href="UUID-1d5b5ee4-cc81-963f-23c9-7526e4f9a301.html" class="topic-link">Device testing for Android</a></li><li><a href="UUID-4e1444ac-fffa-efb0-328d-4624390aecfc.html" class="topic-link">Running tests in the Visual Studio App Center</a></li><li><a href="UUID-a1884560-256b-1ed2-8610-c0f75ad7722c.html" class="topic-link">Running Detox tests on Bitrise</a></li><li><a href="UUID-a0825290-23c2-2f73-ee6b-49f79247bb96.html" class="topic-link">Measuring your code coverage with Codecov</a></li></ul></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Deploying</a><ul><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4608508127177634306819235491" class="topic-link">Deploying Android apps</a></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736" class="topic-link">Deploying iOS apps</a></li><li><a href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html" class="topic-link">Android deployment</a></li><li><a href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html" class="topic-link">iOS deployment</a></li><li><a href="UUID-a98fe87f-4567-c925-bb4c-e7305a358f31.html" class="topic-link">Deploying with Ship</a></li><li><a href="UUID-486f03bc-17cb-3874-60ef-9c72c9cac4fc.html" class="topic-link">Deploying apps to Applivery</a></li><li><a href="UUID-2cf0f826-fe4d-a23d-a986-f6533dd1ec98.html" class="topic-link">Deploying apps to DeployGate from Bitrise</a></li><li><a href="UUID-a4f81ac8-cc20-95c3-78aa-6cfa92259424.html" class="topic-link">Deploying your app to Appaloosa</a></li><li><a href="UUID-75b882c9-9b2e-43f0-9a71-bbd1b94c2e77.html" class="topic-link">Deploying to TestFairy with Bitrise</a></li></ul></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Insights</a><ul><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4594098314464032933411789556" class="topic-link">How Insights works</a></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4571274750044834144481960674" class="topic-link">Git Insights and remote caching</a></li><li><a href="UUID-a69bea49-f8f3-cf2d-26c8-0a17d973daa7.html" class="topic-link">Getting started with Insights</a></li><li><a href="UUID-e92853be-cf2f-bc35-98c1-86b7b5f2a1d9.html" class="topic-link">Available metrics in Insights</a></li><li><a href="UUID-7ac126d1-5bd9-e644-642d-f8755f15eaef.html" class="topic-link">Test stats in Insights</a></li></ul></li><li><a href="UUID-1e7fdeeb-5e8f-3ce1-777f-a4defadc6e4b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise CLI</a><ul><li><a href="UUID-372b2639-babb-6390-d1d2-898e39825d4a.html" class="topic-link">Installing and updating the Bitrise CLI</a></li><li><a href="UUID-65586a1e-a8a7-e642-a281-bb535f60d8f0.html" class="topic-link">Adding a new app from a CLI</a></li><li><a href="UUID-7266de66-409c-7a30-aa7b-78fb3b32172b.html" class="topic-link">Initializing a Bitrise project locally</a></li><li><a href="UUID-9c649821-1aaa-ab87-c4ec-925292d424f1.html" class="topic-link">Installing and upgrading the offline Workflow Editor</a></li><li><a href="UUID-537e2dfa-a322-df53-a92f-b1f63e99c7d7.html" class="topic-link">Running your first local build with the CLI</a></li><li><a href="UUID-6ee95b9f-a082-3d77-d20e-25be9969faa9.html" class="topic-link">Managing Secrets locally</a></li></ul></li><li><a href="UUID-1f199927-764a-51f2-1222-f5a529750c60.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> API</a><ul><li><a href="UUID-c75d8909-8594-0f0d-20ab-fceb36679f84.html" class="topic-link">Authenticating with the Bitrise API</a></li><li><a href="UUID-3897b0dc-2d7a-34a6-3a17-87e0270914dc.html" class="topic-link">Pagination of API calls</a></li><li><a href="UUID-3aa72056-57cd-3533-d8ed-445ef1584299.html" class="topic-link">Adding and managing apps</a></li><li><a href="UUID-c65412f0-db58-2bfc-b10b-c801d887def4.html" class="topic-link">Triggering and aborting builds</a></li><li><a href="UUID-ebbc713e-431e-4f12-ad70-8547c2932347.html" class="topic-link">Incoming and outgoing webhooks</a></li><li><a href="UUID-eaf0528b-c4fb-869e-aded-bcf6abbe69ba.html" class="topic-link">Managing iOS code signing files</a></li><li><a href="UUID-5832d66a-2451-ae69-92c5-53c32cd9e173.html" class="topic-link">Managing files in Generic File Storage</a></li><li><a href="UUID-a67de581-0791-2633-da8a-7f9bcbfe974e.html" class="topic-link">Managing build artifacts</a></li><li><a href="UUID-bea95175-ce19-7eaf-4987-2600317e2d4f.html" class="topic-link">API reference</a></li></ul></li><li><a href="UUID-8e76b4bd-aa2b-b98d-883d-f885032a7b8e.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> References</a><ul><li><a href="UUID-f7c6b635-3669-d853-b24b-4f8542f59a22.html" class="topic-link">Basics of bitrise.yml</a></li><li><a href="UUID-18c85a27-556f-bdba-18a4-c07af747b6e5.html" class="topic-link">Customizing the bitrise.yml config</a></li><li><a href="UUID-08e0cf6c-930a-b699-1e99-7d69aebfdd7c.html" class="topic-link">Workflow reference</a></li><li><a href="UUID-14e81619-0fe5-7d71-6223-9f5067d57904.html" class="topic-link">Steps reference</a></li><li><a href="UUID-732a64c9-4584-db4d-d753-f95122b8a69c.html" class="topic-link">Available Environment Variables</a></li><li><a href="UUID-e1449112-c102-2151-5ceb-116b55ecfaab.html" class="topic-link">Bitrise tools</a></li></ul></li></ul></li><li><a href="UUID-1a69c010-b7fd-4c0e-2cc0-26ceba8e5a15.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise Docs</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html#UUID-9bb609fc-1b22-e628-165d-46097239fb95_UUID-603c18c7-eb0e-7dfc-df86-42313f896cd3" class="topic-link">Teams and Organizations</a></li></ul></li><li><a href="UUID-b341255f-a55e-a7f0-b973-a84a0a873bdc.html" class="topic-link">Infrastructure</a></li><li><a href="UUID-e0122c2e-82a3-de27-339b-9f2111b187bb.html" class="topic-link">Account management</a></li><li><a href="UUID-0e88ed3d-4da3-f11f-91e7-a2c59c9bd90f.html" class="topic-link">Workspaces and apps</a></li><li><a href="UUID-dbbf25b0-de43-2e12-27dc-bc594db481ec.html" class="topic-link">Steps and Workflows</a></li><li><a href="UUID-06d1480b-816b-612a-62a4-69462e5d7d96.html" class="topic-link">Builds</a></li><li><a href="UUID-10314503-c554-ba24-63f6-964bae84651b.html" class="topic-link">Code signing</a></li><li><a href="UUID-6cc0b48c-cf6b-e5b7-9e4c-70edaa004389.html" class="topic-link">Testing</a></li><li><a href="UUID-52c4de75-9fe5-5bca-3b8a-64e2cf37cb75.html" class="topic-link">Deploying</a></li><li><a href="UUID-1f0b222e-04a6-451d-842a-0d776ed23a4a.html" class="topic-link">App monitoring</a></li><li><a href="UUID-af4417ce-4968-a84a-114d-e96f3ddb7d33.html" class="topic-link">Bitrise CLI</a></li><li><a href="UUID-12886403-46a8-3b37-000e-286292c993ae.html" class="topic-link">References</a></li><li><a href="UUID-1ad60eea-0461-739e-ac98-a3689e36692b.html" class="topic-link">Bitrise API</a></li></ul></li></ul></div></div><div class="col-md-9 content-container" id="content-wrapper"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html"><span class="glyphicon glyphicon-circle-arrow-left"></span>Prev</a><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html">Next<span class="glyphicon glyphicon-circle-arrow-right"></span></a><div id="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-431581d4-f756-3167-7a10-13f70cd4dba4" data-publication-date="" id="UUID-45277652-008d-152c-9e3a-00e80a3005be"><div class="titlepage"><div><div class="title"><h4 class="title">Developing your own Bitrise Step</h4></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>You can develop your own Bitrise Steps and your own project scanner, and submit them to Bitrise so that other users can use them, too.</p></div></div></div></div><p>Contributing to Bitrise is easy: develop an open source integration, submit it and you’re done! In this section, we’ll be focusing on technical contributions: creating a new <em class="glossterm">Step</em> and creating your very own <em class="glossterm">project scanner</em>.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-45277652-008d-152c-9e3a-00e80a3005be_UUID-28a13ba5-95f8-982d-257c-c014857d538f"><div class="titlepage"><div><div class="title"><h5 class="title">Creating your own Step</h5></div></div></div><p>Bitrise offers well over 200 Steps to our users. We maintain many of them ourselves but our users’ community does an outstanding job of contributing to our Step Library (StepLib). Anyone can submit a Step - if approved, it will become part of the official Bitrise StepLib and available to all Bitrise users! Check out how to create your own Step and share it with the world: <a class="link linktype-component" href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html#UUID-848ffc4a-1c5a-6051-fe67-025ab405f007" title="Developing a new Step">Creating your own Step</a>.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-45277652-008d-152c-9e3a-00e80a3005be_UUID-bee627ea-4523-0f53-ba3a-d8de6f37a0c5"><div class="titlepage"><div><div class="title"><h5 class="title">Creating your own scanner</h5></div></div></div><p>Our project scanner automatically detects the project type whenever you add a new app on Bitrise. In this context, type means the platform or framework used to create the app, for example, Android, iOS, React Native or Flutter. Based on the results, we automatically create a configuration, with at least one default Workflow that contains the most frequently used Steps for the detected type.</p><p>Our scanner might not detect your app, for a couple of reasons: either something is missing from your repository (such as a config.xml file in the case of an Ionic app, for example), or we simply don’t have a scanner for your type yet. If it’s the latter, you can <a class="link linktype-component" href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-15a4b450-3823-111b-a88a-98f66ef246cc" title="Adding a new app">configure your app manually</a>, or you can create your own scanner, with its own project configuration: <a class="link linktype-component" href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html#UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c" title="Creating your own Bitrise project scanner">Creating your own Bitrise project scanner.</a></p></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-e67f6a64-56f0-20f4-4150-02ff566db8b7" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007"><div class="titlepage"><div><div class="title"><h5 class="title">Developing a new Step</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>To develop a Bitrise Step and get it integrated in our Step library, you need to write a code, create the description, and submit everything for review.</p></div></div></div></div><div dir="ltr" class="important"><h3 class="title">Duplicate Steps</h3><p>Before deciding to develop a new Step, please make sure that there’s no already existing Step that performs the same function.</p><p>You can search for Steps on our <a class="link" href="https://www.bitrise.io/integrations/steps" target="_blank" rel="noopener">Integrations</a> page or in the <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">Step Library</a> on GitHub.</p></div><p>A <em class="glossterm">Step</em> is a build task: for example, the <span class="bold"><strong>Git Clone</strong></span> Step clones your Git repository at the start of a build while the <span class="bold"><strong>Google Play Deploy</strong></span> Step can deploy your finished app to the Play Store.</p><p>A Step contains the code that performs the build task. You can configure the inputs and parameters that define the task, and view and reuse the outputs a Step generates. Reusing the output means that another Step can use it as the value of one of its inputs.</p><p>Our Steps are written in <a class="link" href="https://golang.org/" target="_blank" rel="noopener">Go</a> or Bash. Steps are contained in their own Git repositories: that includes the code and the <code class="code">step.yml</code> file that defines the configuration of the Step. If you wish to make the Step available to other users, the <code class="code"><em class="glossterm">step.yml</em></code> file needs to be included in the <code class="code">bitrise-steplib</code> repository so that other users can find the Step on our website, in the <em class="glossterm">Workflow Editor</em>.</p><div dir="ltr" class="tip"><h3 class="title">Sharing Steps</h3><p>Sharing your custom Steps is optional: a Step with a use case that is specific to a single user will not be much help to others. As you can run a Step from your own machine or from any Git repository, your custom Steps do not have to be part of the Bitrise Step Library.</p><p>For more info on sharing Steps with other users, check out the Sharing Steps guide.</p><p>For detailed information on how Steps work, see the following guides:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>Steps in YAML</p></li><li class="listitem"><p>Step inputs</p></li><li class="listitem"><p>Step outputs</p></li><li class="listitem"><p><a class="link linktype-component" href="UUID-14e81619-0fe5-7d71-6223-9f5067d57904.html#UUID-e1c8c545-ddc7-cc13-8318-1e0492d75254" title="Step properties">Step properties</a></p></li></ul></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-043cbee9-410b-f2a5-70b9-7ec7fc988e06"><div class="titlepage"><div><div class="title"><h6 class="title">Before you start developing a new Step</h6></div></div></div><p>Before creating a new Step, you will need to install the Bitrise CLI, set it up, and make sure the <a class="link" href="https://github.com/bitrise-io/bitrise-plugins-step" target="_blank" rel="noopener">Step plugin</a> is updated to the latest version.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Install the Bitrise CLI.</p></li><li class="listitem"><p>Run bitrise setup.</p></li><li class="listitem"><p>Update the Step plugin to the latest version with the following command:</p><pre class="programlisting">bitrise plugin update step</pre></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-60069750-8d64-8e4b-5f6d-27ad5091f458"><div class="titlepage"><div><div class="title"><h6 class="title">Creating the Step</h6></div></div></div><p>We will use the Step plugin of the Bitrise CLI to create a new Step. With this, we’ll create the basic structure of the Step. Certain properties and inputs will be generated and assigned automatically. You can change anything later so don’t worry about it yet.</p><div dir="ltr" class="tip"><h3 class="title">The Step plugin</h3><p>Run <code class="code">bitrise :step</code> in a command line interface to check its commands.</p></div><p>Creating the basic structure of the Step is simple. We’ll go over the concepts involved in the process in more detail later; for now, just go through the process to create the Step. At the end of this process, you will have a <code class="filename">step.yml</code> file, a <code class="filename">README.md</code> file and either a <code class="filename">main.go</code> or a <code class="filename">step.sh</code> file in the repository.</p><div dir="ltr" class="important"><h3 class="title">Before you start</h3><p>During the Step creation process, you will be prompted to set a number of options. Note that you can change any of these before submitting your Step to Bitrise for review: the data will be included in the generated <code class="filename">step.yml</code> file that you can edit at your leisure later. During the initial Step creation process, you can use placeholders if you want to.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open a command line interface, such as the Terminal app on MacOS.</p></li><li class="step"><p>Create a new directory for your Step if you haven’t done so yet and enter that directory:</p></li><li class="step"><p>Create the Step with the Bitrise Step plugin: <code class="code">bitrise :step create</code>.</p></li><li class="step"><p>When prompted, set the name of the Step’s author.</p><p>Hit Enter to leave it on the default value.</p></li><li class="step"><p>When prompted, set the Step’s name.</p><p>The plugin automatically generates a Step ID based on this name.</p></li><li class="step"><p>Provide a summary: no more than a couple of sentences about what the Step does.</p></li><li class="step"><p>Provide a description of the Step.</p><p>This should contain configuration information and troubleshooting information for the Step.</p></li><li class="step"><p>Select the primary category of the Step.</p><p>To do so, type the number of the preferred option and hit Enter. This can be changed later.</p></li><li class="step"><p>Choose the toolkit you want to use: you can choose either Go or Bash.</p></li><li class="step"><p>Set up the source code hosting data for the Step:</p><p>To do so, first decide if you want to host it on GitHub or on any other site and enter the appropriate option:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you chose GitHub, you will be asked to provide the username of the account that will own the repository.</p></li><li class="listitem"><p>If you chose not to store it on GitHub, you have to provide a valid URL for the repository.</p></li></ul></div></li></ol></div><p>You are done! If everything went well, the plugin initialized a git repository in the current directory and added a <code class="filename">step.yml</code>, a <code class="filename">README.md</code> file, and either a <code class="filename">main.go</code> or a <code class="filename">main.sh</code> file.</p><p>Now we’ll go through how the <code class="filename">step.yml</code> file works and how to set it up.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-a23819dd-0dfb-48ab-70cf-a4b9defdbdf8"><div class="titlepage"><div><div class="title"><h6 class="title">The step.yml file</h6></div></div></div><p>The <code class="filename">step.yml</code> file is the Step interface definition, containing dependencies, Step inputs and Step outputs as well as other Step properties. It also points to the location of the Step’s source code. Every Step must have one.</p><p>If you use the Step plugin to create a new Step, all the required properties will have a value assigned - but you can change any of them at any time. So don’t worry if the title you set during the initial process does not conform to the guidelines below.</p><p>We’ll look at the most important configuration options of the <code class="filename">step.yml</code> file, including naming and describing your Step, as well as setting up Step inputs and Step outputs.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-3cb9baf0-259e-16b3-7578-072cb3e1bc68"><div class="titlepage"><div><div class="title"><h6 class="title">Naming and describing a Step</h6></div></div></div><p>Every Step must have at least a title and a summary defined in the <code class="filename">step.yml</code> file. These will appear both on the <a class="link" href="https://www.bitrise.io/integrations/" target="_blank" rel="noopener">Integrations</a> page and in the Workflow Editor. The <code class="code">description</code> property is optional but we strongly recommend providing one so that other users better understand how your Step works.</p><div dir="ltr" class="tip"><h3 class="title">Description and summary</h3><p>Both <code class="code">description</code> and <code class="code">summary</code> accept Markdown formatting in its values.</p></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-4e05403b-fedd-dac5-409c-c1af897fc4aa"><div class="titlepage"><div><div class="title"><h6 class="title">The title</h6></div></div></div><div dir="ltr" class="important"><h3 class="title">The title property</h3><p>The <code class="code">title</code> property is required!</p></div><p>The <code class="code">title</code> property sets the name of the Step, as it will appear on <a class="link" href="https://www.bitrise.io" target="_blank" rel="noopener">bitrise.io</a>. It should be short and descriptive. Include the name of the service and the function it fulfils, such as <span class="bold"><strong>Git Clone</strong></span>. Here’s a few guidelines for your Step titles:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Do not use the word ‘Step’.</p></li><li class="listitem"><p>Use imperative verbs instead of nouns when possible. For example, instead of <span class="bold"><strong>Script Runner</strong></span>, it should be <span class="bold"><strong>Run Script</strong></span>.</p></li><li class="listitem"><p>Do not include the name of the platform.</p></li><li class="listitem"><p>Make sure you use the correct name of a service or tool. For example, GitHub instead of Github.</p></li><li class="listitem"><p>Do not include implementation details.</p></li></ul></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-ca8ae7bd-e934-fca5-4bd8-2c4ac51f5648"><div class="titlepage"><div><div class="title"><h6 class="title">The summary</h6></div></div></div><div dir="ltr" class="important"><h3 class="title">The summary property</h3><p>The summary property is required!</p></div><p>A single line of the most significant information about the Step. It can’t be longer than a 100 characters.</p><p>The summary is visible by default on the Workflow Editor. If a user expands the summary, the Step’s description will be presented - if there is one, of course.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-c5369b6e-5d61-14fb-4a92-5a053a378bb3"><div class="titlepage"><div><div class="title"><h6 class="title">The description</h6></div></div></div><p>A detailed explanation of the Step. It should include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>What the Step does.</p></li><li class="listitem"><p>The services and tools used by the Step.</p></li><li class="listitem"><p>Configuration information, including the most important inputs.</p></li><li class="listitem"><p>Troubleshooting information: potential issues and their solutions.</p></li></ul></div><p>By default, the Step’s description is collapsed on the Workflow Editor and the summary is presented.</p></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-2e5fda44-128e-462a-a0da-1acbac8efb91"><div class="titlepage"><div><div class="title"><h6 class="title">Step categories</h6></div></div></div><p>There is another thing we’d like to know about your Step: what type of Step is it? As you can see on our Integrations page or on the Workflow Editor, Steps are sorted into different categories based on two factors: the platforms for which they are available and their functionality.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-34244531-b85d-06dc-3bbb-4a135f43fec4"><div class="titlepage"><div><div class="title"><h6 class="title">Platforms</h6></div></div></div><p>The available platform types are controlled by the <code class="varname">project_type_tags</code> attribute. If your Step is available for every platform or project type, do not specify <code class="varname">project_type_tags</code>. In any other case, select all platform types for which your Step is available.</p><p>The available values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">ios</code></p></li><li class="listitem"><p><code class="code">macos</code></p></li><li class="listitem"><p><code class="code">android</code></p></li><li class="listitem"><p><code class="code">react-native</code></p></li><li class="listitem"><p><code class="code">cordova</code></p></li><li class="listitem"><p><code class="code">ionic</code></p></li><li class="listitem"><p><code class="code">flutter</code></p></li></ul></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-8a072990-3aa6-f160-d956-97d2b8ee9450"><div class="titlepage"><div><div class="title"><h6 class="title">Category</h6></div></div></div><p>Functional categories are controlled by the <code class="varname">type_tags</code> attribute in the <code class="filename">step.yml</code>. One Step should have only a single type tag assigned to it. Use <code class="code">utility</code> only if you believe none of the other types fit your Step.</p><p>The available values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">build</code></p></li><li class="listitem"><p><code class="code">code-sign</code></p></li><li class="listitem"><p><code class="code">test</code></p></li><li class="listitem"><p><code class="code">deploy</code></p></li><li class="listitem"><p><code class="code">notification</code></p></li><li class="listitem"><p><code class="code">access-control</code></p></li><li class="listitem"><p><code class="code">artifact-info</code></p></li><li class="listitem"><p><code class="code">installer</code></p></li><li class="listitem"><p><code class="code">dependency</code></p></li><li class="listitem"><p><code class="code">utility</code></p></li></ul></div></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-929b3fd4-c7b1-04c5-086d-d0f974b0f16b"><div class="titlepage"><div><div class="title"><h6 class="title">Step inputs</h6></div></div></div><p>Step inputs are Bitrise Environment Variables: they consist of a key and value pair that users of the Step can set to control the Step behavior. For example, the <span class="bold"><strong>Git Clone</strong></span> Step has an input with the key branch:</p><pre class="programlisting">title: Git Clone Repository
summary: Clone a repository to the specified path on the VM
inputs:
- branch: master </pre><p>The value of this input - master in the above example - is used to determine which branch of the repository will be cloned.</p><p>Step inputs are visible on the Workflow Editor: they are presented in the order as they appear in the <code class="filename">step.yml</code>. As such, required and frequently used inputs should be at the top.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-20166e8e-30e2-06bb-3962-daf112bfd141"><div class="titlepage"><div><div class="title"><h6 class="title">Step input keys and values</h6></div></div></div><p>Use lower case <a class="link" href="https://en.wikipedia.org/wiki/Snake_case" target="_blank" rel="noopener">snake case</a> style input keys. For example, <code class="varname">project_path</code>.</p><div dir="ltr" class="warning"><h3 class="title">Using <code class="code">opts</code> as an input key</h3><p>The input key can not be <code class="code">opts</code>, as it is used for the input’s options.</p></div><p>There is no need to add domain-specific prefixes to the input keys, as inputs are only exposed for the Step run process. This means <code class="varname">project_path</code> input will not overlap with subsequent Steps’ <code class="varname">project_path</code> inputs.</p><p>Step input values are strings: the Bitrise CLI exposes the Step inputs as Environment Variables to the Steps.</p><p>Provide default values for Step inputs if possible (and if it makes sense). That makes the Step configuration easier for Bitrise users.</p><p>Environment Variables must not be used as default values, unless:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>They are exposed by the Bitrise CLI or by bitrise.io.</p></li><li class="listitem"><p>They are generated as an output by another Step (for example, <code class="envar">$BITRISE_IPA_PATH</code>, <code class="envar">$BITRISE_AAB_PATH</code>).</p></li></ul></div><p>This is because the Workflow Editor highlights required inputs without values to express the Step will not work without setting a valid value for the given input. If you set an Env Var, which does not have an automatically assigned value, as the default value for an input, the Workflow Editor will think the required input in question has a valid value set (even if the default Env Var has no value yet).</p><p>Also, there is no reason to suggest a certain name for an Environment Variable this way: users might have the same value assigned to an Env Var with a different name.</p><p>Let’s talk about how Step inputs are passed to code and how they are presented.</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-f0f1b90b-1660-506d-079a-94b1b55ce17e"><div class="titlepage"><div><div class="title"><h6 class="title">Configuring Step inputs</h6></div></div></div><p>Step inputs are defined and configured in the <code class="filename">step.yml</code> file.</p><p>In addition to a key and a value, Step inputs are required to have an <code class="code">opts</code> property. This property contains the different options that define how the inputs are passed to the code of the Step and how it is presented in the Workflow Editor. The possible values of the input can be set in <code class="code">opts</code> as well. Let’s see an example.</p><pre class="programlisting">- install_defaults: "yes"
  opts:
    title: Installs default Codesign Files
    value_options:
    - "no"
    - "yes"</pre><p>The above input has the key install_defaults, and its default value is yes.</p><p>The value_options option defines the possible values: in this case, yes and no. Its opts property contains some information about how the input is presented: in this case, it’s just a title option, which is always required. The title is displayed in the Workflow Editor instead of the key of the input.</p><div dir="ltr" class="important"><h3 class="title">The <code class="code">value_options</code> input</h3><p>The <code class="code">value_options</code> input must contain a string. This means that without the quotation marks, as indicated in the example, the validation will fail.</p></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-92d9069e-503f-e98a-cca1-52ea1839ea22"><div class="titlepage"><div><div class="title"><h6 class="title">Naming and describing Step inputs</h6></div></div></div><p>A Step input can have a name, a summary, and a description, just like the Step itself. To define these:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Include an <code class="code">opts</code> property with the Step input.</p></li><li class="listitem"><p>Under opts, provide a title, a summary, and a description option.</p></li></ol></div><p>Let’s take a look at how these should look like!</p><div dir="ltr" class="tip"><h3 class="title">Description and summary</h3><p>Both <code class="code">description</code> and <code class="code">summary</code> accept Markdown formatting in its values.</p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">title</code>: It should be a short and descriptive sentence or half sentence: The Xcode project’s path. It should not be a CLI flag or API parameter name used internally. This makes Step configuration easier, as no preexisting knowledge will be required about the underlying tool or service interfaces. It’s also easier to change the Step’s implementation while maintaining backwards compatibility.</p></li><li class="listitem"><p><code class="code">summary</code>: It is the short version of the description, which provides a quick overview of the input. On the Bitrise Workflow Editor, the summary of the inputs is presented by default when you click on a Step.</p></li><li class="listitem"><p><code class="code">description</code>: It is the user facing description of the Step input: this should provide a deeper, more detailed explanation of the input. By default, it is not visible in the Workflow Editor, unless the user clicks on the input in question.</p></li></ul></div><p>Here is an example:</p><pre class="programlisting">- install_defaults: "yes"
  opts:
    description: Installs default (Bitrise) Wildcard Provisioning Profile and
      Certificate files for testing.
    summary: Installs default (Bitrise) Wildcard code signing files.
    title: Installs default code signing files</pre><p>Now, let’s talk about some other configuration options for Steps.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-4d9113cc-7822-3beb-8b6e-b7abd9ce4bbf"><div class="titlepage"><div><div class="title"><h6 class="title">Required inputs</h6></div></div></div><p>Required inputs must have a valid value, otherwise the Step will fail.</p><p>To mark a Step input as required, use the is_required option of the <code class="code">opts</code> property. It has two values: <code class="code">true</code> and <code class="code">false</code>. If set to <code class="code">true</code>, the input will be displayed as <span class="bold"><strong>REQUIRED</strong></span> on the Workflow Editor.</p><pre class="programlisting">- keychain_password: $BITRISE_KEYCHAIN_PASSWORD
  opts:
    title: "Keychain's password"
    is_required: true</pre><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-2dac2a91-8513-bf04-2b2a-7a76f593bdf4"><div class="titlepage"><div><div class="title"><h6 class="title">Sensitive inputs</h6></div></div></div><p>You can mark Step inputs as sensitive to make sure their values do not get exposed. Sensitive inputs only accept <a class="link" href="https://devcenter.bitrise.io/bitrise-cli/secrets/" target="_blank" rel="noopener">Secrets</a> as values. This ensures they are not visible in build logs.</p><p>To mark a Step input as sensitive, use the <code class="code">is_sensitive</code> option of the <code class="code">opts</code> property. It has two values: <code class="code">true</code> and <code class="code">false</code>. If set to <code class="code">true</code>, the input will be displayed as <span class="bold"><strong>SENSITIVE</strong></span> on the Workflow Editor.</p><div dir="ltr" class="important"><h3 class="title">The <code class="code">is_expand</code> option</h3><p>If you mark an input as sensitive, the <code class="code">is_expand</code> option of the input also must be true, which is the default setting.</p></div><pre class="programlisting">inputs:
  - certificate_urls: $BITRISE_CERTIFICATE_URL
    opts:
      title: "Certificate URL"
      is_sensitive: true</pre><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-871a4886-f98f-e929-ddd2-c25fa99f9e8d"><div class="titlepage"><div><div class="title"><h6 class="title">Using Env Vars as input values</h6></div></div></div><p>As noted earlier, it is possible to use Environment Variables as the value of any given input. By default, the Step will expand the Env Var and pass its value to the Step execution. This is defined by the <code class="code">is_expand</code> option of the <code class="code">opts</code> property.</p><pre class="programlisting">- project_path: $BITRISE_PROJECT_PATH
  opts:
    is_expand: true</pre><p>The <code class="code">is_expand</code> option can have two values: true or false. If set to <code class="code">true</code> - this is the default behavior -, the value of <code class="envar">$BITRISE_PROJECT_PATH</code> will be passed to Step execution. If set to <code class="code">false</code>, the string <code class="envar">$BITRISE_PROJECT_PATH</code> will be passed (and this particular Step will fail as it will not find the project location).</p><div dir="ltr" class="warning"><h3 class="title">Env Vars in Step code</h3><p>Do not use Environment Variables directly in your Step’s code. Instead, expose every outside variable as an input of your Step and set the default value of that input to the Environment Variable you want to use. This way it’s easier to test the Step and the user of the Step can easily declare these inputs, without having to scour through code for the required variable.</p></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-1442399b-ebb3-54df-92a6-07134b6656a2"><div class="titlepage"><div><div class="title"><h6 class="title">Grouping inputs together</h6></div></div></div><p>The category option is used to group inputs together. Inputs belonging to the same category are displayed together and collapsed by default in the Workflow Editor.</p><pre class="programlisting">- default_certificate_passphrase: $BITRISE_DEFAULT_CERTIFICATE_PASSPHRASE
  opts:
    category: Default code signing files
    description: |
      Certificate passphrase of the default certificate.
    is_sensitive: true
    title: Default certificate passphrase</pre><p>In this case, this input will appear with all the other inputs that have the same category set.</p><p>Categories may be used if the Step has more than six inputs. The suggested maximum number of inputs in a group or in the root is six.</p><p>Please keep in mind, when designing Step categories, that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Required inputs should not be grouped!</p></li><li class="listitem"><p>Grouped inputs should be displayed after non-categorised inputs.</p></li></ul></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-679bbe60-796d-b0f3-b179-d90cd4c5bb27"><div class="titlepage"><div><div class="title"><h6 class="title">Accepting a list of values for inputs</h6></div></div></div><p>It is absolutely possible to accept a list of values for a given input. If you wish to do so, we strongly recommend adding a list suffix to the key of the input (for example, <code class="code">input_path_list</code>), and expect the values to be provided as a newline character (\n) separated list (for example, first value\nsecond value).</p><p>Please use this solution unless you really need to use another character for separating values. Based on our experience, the newline character (\n) works really well as a universal separator character, as it’s quite rare in input values (compared to ,, ;, = or other more common separator characters).</p><p>As a best practice, you should filter out empty items. Use either:</p><pre class="programlisting">first value\n\nsecond value</pre><p>or</p><pre class="programlisting">first value\n       \nsecond value</pre><p></p></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-66cf5a8a-bd22-9a9d-2bd8-3c69823f2bcf"><div class="titlepage"><div><div class="title"><h6 class="title">Step outputs</h6></div></div></div><p>Steps can generate outputs which can then be used in other Steps as inputs. That means that if a Step generates an artifact, the path to that artifact can be the input of another Step in the build. For example, the <span class="bold"><strong>Xcode Archive &amp; Export for iOS</strong></span> Step exposes the <code class="envar">$BITRISE_API_PATH</code> output which can then be used as an input value for the <span class="bold"><strong>Deploy to iTunesConnect</strong></span> Step.</p><p>Outputs are also defined in the <code class="filename">step.yml</code> file, under the outputs property. They have the same structure as inputs: they consist of a key and value pair. An output’s key can be used as an input value in a subsequent Step, just as Environment Variables exposed by <a class="link" href="http://bitrise.io" target="_blank" rel="noopener">bitrise.io</a> or the Bitrise CLI can be.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-109f8f75-b9f0-11b4-da4a-c61d514fbb26"><div class="titlepage"><div><div class="title"><h6 class="title">Step output keys and values</h6></div></div></div><p>For output keys, use upper case <a class="link" href="https://en.wikipedia.org/wiki/Snake_case" target="_blank" rel="noopener">snake case</a> style output keys, for example: OUTPUT_PATH.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-6ab48cf6-d6cc-0c6f-715f-8db1a4eade9d"><div class="titlepage"><div><div class="title"><h6 class="title">Naming and describing Step outputs</h6></div></div></div><p>Step outputs are always exported as Environment Variables (Env Var). For example, the <span class="bold"><strong>Xcode Archive &amp; Export for iOS Step</strong></span> generates an IPA file: this output is exported as the <code class="envar">BITRISE_IPA_PATH</code> Env Var:</p><pre class="programlisting">outputs:
- BITRISE_IPA_PATH:  
  opts:    
    title: .ipa file path   
    summary: Local path of the created .ipa file</pre><p>As the example shows, the output definition contains a key (<code class="envar">BITRISE_IPA_PATH</code>) and under the <code class="code">opts</code> property, it also includes a title and a summary. In the Workflow Editor, the key and the title are visible by default: these are required. In addition, you can add a summary and a description:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">title</code>: It should be a short and descriptive sentence or half sentence: Generated IPA path. This is required.</p></li><li class="listitem"><p><code class="code">summary</code>: It is the short version of the description, which provides a quick overview of the output. This is optional, and only visible in the Workflow Editor if you click on the title.</p></li><li class="listitem"><p><code class="code">description</code>: It is the user facing description of the Step output: this should provide a deeper, more detailed explanation of the output. This is optional, and only visible in the Workflow Editor if you click on the title.</p></li></ul></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-0037185b-ce5e-e050-a8f3-827bbe0eed2f"><div class="titlepage"><div><div class="title"><h6 class="title">Outputs with list of values</h6></div></div></div><p>It is absolutely possible to provide a list of values for a given output. If you wish to do so, we strongly recommend adding a LIST suffix to the key of the output (for example, <code class="code">BITRISE_APK_PATH_LIST</code>), and expect the values to be provided as a newline character (\n) separated list (for example, first value\nsecond value).</p><p>Please use this solution unless you really need to use another character for separating values. Based on our experience, the newline character (\n) works really well as a universal separator character, as it’s quite rare in input values (compared to ,, ;, = or other more common separator characters).</p></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-f4da0ade-fbdc-7eca-dffe-71bcd2ee112d"><div class="titlepage"><div><div class="title"><h6 class="title">Setting conditions for running the Step</h6></div></div></div><p>There are three properties that define whether a Step is run in a given Workflow or not: <code class="code">is_always_run</code>, <code class="code">is_skippable</code> and <code class="code">run_if</code>. All of these properties can be set in the <code class="filename">step.yml</code> file to govern the default behavior of the Step, or set in a given app’s bitrise.yml file on a case-by-case basis.</p><p><code class="code">is_always_run</code>: By default, Steps do not run if a previous Step in the Workflow failed. However, if the <code class="code">is_always_run</code> property is set to <code class="code">true</code>, the Step runs regardless of the status of previous Steps in the Workflow. This can be very useful, for example, in the case of Steps that can send notifications about the build: they can send notifications about failed builds.</p><p><code class="code">is_skippable</code>: As mentioned above, Steps do not run if a previous Step in the Workflow failed. However, if a Step’s <code class="code">is_skippable</code> property is set to <code class="code">true</code>, the build will not fail and subsequent Steps will run even if that particular Step fails. A good example is the <span class="bold"><strong>Cache:Pull</strong></span> Step: if an app has no build cache to pull from, the Step will fail but that is no reason to fail the build.</p><p><code class="code">run_if</code>: If you want to make Step execution dependent on a certain condition, use the <code class="code">run_if</code> property to define the run condition. For example, you can configure a Step so that it only runs in a CI environment. Read more in our <a class="xref linktype-component" href="UUID-2b8c8853-f79a-c077-88d6-35eab62e5bb5.html" title="Enabling or disabling a Step conditionally"><span class="xreftitle">Enabling or disabling a Step conditionally</span></a> guide about the possible use cases.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-c4e84c50-a008-2f48-92b6-b43eed8ff992"><div class="titlepage"><div><div class="title"><h6 class="title">Submodules and Step dependencies</h6></div></div></div><p>Do not use submodules, or require any other resource downloaded on-demand in your Step! Try to include everything required for your Step in the Step’s repository. Otherwise you can run into problems if, say, the Step fails to download a resource because of a network error or some authorization problem. In the case of submodules, you should include the content of the other repository instead of using it as a submodule of your Step’s repository.</p><p>You can, however, declare dependencies that you can fetch from an OS dependency manager, such as apt-get or brew. A Step dependency is installed by the Bitrise CLI if it is not available in the <code class="envar">PATH</code> Environment Variable.</p><p>As Steps can be run in any environment where the Bitrise CLI can run, list every used dependency, even if you know that they are pre-installed on the Bitrise stacks. Unused dependencies (for example, git and wget added as a sample by default) waste build time.</p><p>Step dependencies should not include toolkit dependencies, as the Bitrise CLI will take care of installing those automatically. A Step written in golang should not list go as a dependency if the Step uses the Go Bitrise CLI toolkit.</p><p>The Bitrise CLI can install Step dependencies available in the Homebrew package manager:</p><pre class="programlisting">deps:
  brew:
  - name: cmake</pre><p>It can install apt-get dependencies available in the sources listed in the sources.list file on the host machine:</p><pre class="programlisting">deps:
  apt_get:
  - name: cmake</pre><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-dfee884d-b42c-9acd-77b5-9075145e78ab"><div class="titlepage"><div><div class="title"><h6 class="title">Accessing files in the Step repo with an Env Var</h6></div></div></div><p>If you need to keep a binary, assets or anything else required for your Step that should be bundled in the Step repository, then you can include them beside your <code class="filename">step.yml</code> file and the code of your Step. The Bitrise CLI automatically exports an Environment Variable called <code class="envar">BITRISE_STEP_SOURCE_DIR</code> that allows you to access these files at any time.</p><p>For example, you can access a <code class="filename">.jar</code> file in the root of your Step’s repository like this:</p><p><code class="code">$BITRISE_STEP_SOURCE_DIR/mytool.jar</code></p></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-848ffc4a-1c5a-6051-fe67-025ab405f007_UUID-23ea572c-f450-e6d2-2daa-19ce92b60cf5"><div class="titlepage"><div><div class="title"><h6 class="title">Adding a Step icon</h6></div></div></div><p>You can add a Step icon to your Step: you will see it in the Workflow Editor and on our <a class="link" href="https://www.bitrise.io/integrations/" target="_blank" rel="noopener">Integrations</a> page. If you want to, there are some requirements:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Its background color should not be transparent.</p></li><li class="listitem"><p>Size: 256x256 px.</p></li><li class="listitem"><p>Margin: 60 px.</p></li><li class="listitem"><p>Format: SVG.</p></li></ul></div><div dir="ltr" class="important"><h3 class="title">Verified Steps</h3><p>Please note that if you wish to submit a Step for verification so that it becomes a Verified Step, you must add a Step icon.</p></div><p>To submit your Step’s icon:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add the .svg file into your StepLib fork repo at: <code class="filename">STEPLIB_FORK_ROOT/steps/YOUR_STEP_ID/assets/icon.svg</code>.</p></li><li class="listitem"><p>Create a new pull request to the <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">StepLib repository</a>.</p></li></ul></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-68dd8146-6228-fa08-2f24-906f7c849313" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35"><div class="titlepage"><div><div class="title"><h5 class="title">Sharing Steps with all Bitrise users</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>If you think your Bitrise Step can be of use to others, you can share it via a CLI command or a Bitrise Workflow. Shared Steps must be actively maintained and they must be open to contributors.</p></div></div></div></div><p>If you think your <em class="glossterm">Step</em> can be of use to others, you can share it! Before doing so, however, please check that there are no other Steps that solve the same problem. You can check:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the list of <a class="link" href="https://www.bitrise.io/integrations/steps" target="_blank" rel="noopener">released Steps</a>.</p></li><li class="listitem"><p>In the list of <a class="link" href="https://github.com/bitrise-io/bitrise-steplib/pulls" target="_blank" rel="noopener">open pull requests</a> in our StepLib.</p></li><li class="listitem"><p>In the list of <a class="link" href="https://github.com/bitrise-io/bitrise-steplib/pulls?q=is%3Apr+is%3Aclosed" target="_blank" rel="noopener">closed pull requests</a> in our StepLib.</p></li></ul></div><p>If you find a Step which is missing a particular feature, please try to contribute to it before developing or sharing a brand new Step for that feature. You can use our <a class="link" href="https://www.bitrise.io/integrations/steps" target="_blank" rel="noopener">Integrations page</a> to search for Steps in the Bitrise StepLib. By clicking the GitHub source button on a given Step’s page you will be taken to the Step’s repository, where you can submit a feature request or open a pull request.</p><p>Also, please keep in mind that shared Steps must be actively maintained and they must be open to contributors.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-7efc6453-8dca-4c34-4199-fa8438f32718"><div class="titlepage"><div><div class="title"><h6 class="title">Sharing a new Step</h6></div></div></div><p>The sharing process is relatively straightforward - but please make sure to go through the process carefully when sharing a new Step.</p><div dir="ltr" class="note"><h3 class="title">The bitrise share command</h3><p>During Step development, you can get help anytime by simply running bitrise share. This will print a short guide on sharing.</p></div><p>There are two ways to share a Step:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You can do it manually, using the <code class="code">bitrise share</code> command.</p></li><li class="listitem"><p>If you created the Step with the Step plugin, you can run the <code class="code">share-this-step</code> Workflow in your Step’s directory.</p></li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-5625e823-f949-436f-46df-4ab065c0deef"><div class="titlepage"><div><div class="title"><h6 class="title">Before you start</h6></div></div></div><p>Before you start, make sure that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Your Step is in a public Git repository.</p></li><li class="listitem"><p>The step.yml file contains a support_url property which points to a valid issue tracker (for example, the <span class="bold"><strong>Issues</strong></span> page of your Step’s GitHub repository).</p></li><li class="listitem"><p>The step.yml file contains a source_code_url property which points to the correct Git URL of your repository.</p></li></ul></div><div dir="ltr" class="important"><h3 class="title">Sharing more than one Step</h3><p>Sharing more than one Step - that is, adding more than one new step.yml file to the Bitrise StepLib - must be done in separate pull requests! You cannot open a pull request that contains more than one new Step!</p></div><p>If you’re ready, go ahead with your preferred sharing process!</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-2bc42c9a-5827-9821-35fb-0cffa5c9bb57"><div class="titlepage"><div><div class="title"><h6 class="title">Sharing with the bitrise share command</h6></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Fork the <a class="link" href="https://github.com/bitrise-io/bitrise-steplib.git" target="_blank" rel="noopener">Bitrise StepLib</a> repository.</p></li><li class="listitem"><p>Prepare your forked StepLib locally for sharing:</p><pre class="programlisting">$ bitrise share start -c &lt;https://github.com/[your-username]/bitrise-steplib.git&gt;</pre></li><li class="listitem"><p>Add the Step version tag to your Step’s repository.</p></li><li class="listitem"><p>Add the Step to your forked StepLib repository:</p><pre class="programlisting">$ bitrise share create --tag [step-version-tag] --git [step-git-uri].git --stepid [step-id]</pre></li><li class="listitem"><p>Optionally, perform a complete health check on your forked StepLib:</p><pre class="programlisting">  $ bitrise share audit -c &lt;https://github.com/[your-username]/bitrise-steplib.git&gt;</pre></li><li class="listitem"><p>Review your Step’s step.yml file, and if you’re happy with it, finish the share process: This commits and pushes the step.yml file to the forked StepLib repository.</p><pre class="programlisting">  $ bitrise share finish</pre><p>This commits and pushes the step.yml file to the forked StepLib repository.</p></li><li class="listitem"><p>Open a pull request in the official <a class="link" href="https://github.com/bitrise-io/bitrise-steplib.git" target="_blank" rel="noopener">Bitrise StepLib</a> repository.</p></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-27b97c61-4e9d-40a8-c541-9f047e70b277"><div class="titlepage"><div><div class="title"><h6 class="title">Sharing with the share-this-step Workflow</h6></div></div></div><p>The share-this-step Workflow is included in the bitrise.yml file that the Step plugin automatically generates when you create a new Step with it. Using it, sharing a Step is incredibly easy:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Fork the <a class="link" href="https://github.com/bitrise-io/bitrise-steplib.git" target="_blank" rel="noopener">Bitrise StepLib</a> repository.</p></li><li class="listitem"><p>Set the required Workflow Environment Variables as app level Environment Variables in the bitrise.yml file:</p><pre class="programlisting"> app: envs: - BITRISE_STEP_ID: - BITRISE_STEP_VERSION: - BITRISE_STEP_GIT_CLONE_URL: - MY_STEPLIB_REPO_FORK_GIT_URL:</pre></li><li class="listitem"><p>Run the share-this-step Workflow in the Bitrise CLI:</p><pre class="programlisting"> $ bitrise run share-this-step</pre></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-27875dbb-7d14-e0d7-8d07-0635010e8be0"><div class="titlepage"><div><div class="title"><h6 class="title">Fixing issues in a StepLib pull request</h6></div></div></div><p>Once you submitted your Step version to the StepLib, wait for the Bitrise team to review it. If we ask for changes:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Close the pull request.</p></li><li class="listitem"><p>Delete the share branch from your fork of the Bitrise StepLib.</p></li><li class="listitem"><p>Fix the issues in the Step repository.</p></li><li class="listitem"><p>Add a new version tag to the commit that contains your fixes in the Step repository.</p></li><li class="listitem"><p>Run the <a class="link linktype-component" href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html#UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-7efc6453-8dca-4c34-4199-fa8438f32718" title="Sharing a new Step">share process</a> again.</p></li></ol></div><p>Hopefully, after fixing the issues, we’ll be able to merge your pull request and release your Step to the public!</p></section><p></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-e39b4ac9-b857-3ed0-3eac-0726e4c8008a"><div class="titlepage"><div><div class="title"><h6 class="title">Abandoned Steps</h6></div></div></div><p>If you are a Step maintainer, you should be reachable within a reasonable timeframe if anyone submits an issue or a pull request to your Step. If we try to contact you several times regarding an important fix/update in your Step and you refuse to answer for several weeks we might deprecate, remove or replace your Step in the collection! Abandoned Steps can be a threat for those who use it, please keep this in mind if you decide to share your Step with others!</p><p>The repository and issue tracker must not be removed, as there are permanent links to it included in the step.yml that is in the Bitrise StepLib. If they are removed, already shared Step versions will continue to function as they are also shared on a Bitrise managed file hosting service during the share process. A new version of the step may be released, managed by Bitrise.</p><p>If you shared a Step but you’re no longer able or willing to maintain it, please create a GitHub issue in this repository: <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">Bitrise StepLib</a></p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6ac61bee-57fc-bdfc-e92b-c9c7623c8c35_UUID-2f191e2a-26e1-a0d1-8db3-c576942457eb"><div class="titlepage"><div><div class="title"><h6 class="title">Reporting Step issues</h6></div></div></div><p>If you’re a user of a Step which has critical (security or functionality) issues, please create a ticket in the Step’s Issue Tracker. Every Step declares the preferred way of reporting issues with the <code class="code">support_url</code> attribute.</p><p>If you don’t get a response from the Step’s maintainer for an extended period (for more than a couple of weeks) please create a GitHub issue in this repository: <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">https://github.com/bitrise-io/bitrise-steplib</a> and we’ll try to resolve the issue, following the Abandoned Step policy. Please be patient and keep in mind that everyone who contributes to this collection does so to help you by providing a Step for you to use!</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-c66d6d34-8fb3-b9cb-38fb-aec1b0c97479" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84"><div class="titlepage"><div><div class="title"><h5 class="title">Verified Steps</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Verified Steps are Bitrise Steps whose owner guarantees secure, maintained, consistent, and high-quality performance for any Bitrise user. To have your Step verified, you must apply for the Verified badge.</p></div></div></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-2836eb78-458a-fafb-575a-74f0d8cd48a0"><div class="titlepage"><div><div class="title"><h6 class="title">What are Verified Steps?</h6></div></div></div><p>A Step contains the code that performs a specific build task. Bitrise has over 300 Steps in its <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">Step Library (StepLib)</a> which third party companies or open source teams can enrich with Steps based on their services/tools. This means they have full power to roll out updates to the Step while Bitrise maintains an overlaying control to ensure service quality and security.</p><p>A Verified Step means that the owner of a service or tool or an open source team guarantees secure, maintained, consistent, and high-quality performance for any Bitrise user. Our official Bitrise Steps are maintained by us, whereas our Community Steps are maintained by the community. It’s easy to decide which type a Step falls into on our GUI.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Verified Steps are labeled with a blue badge in <a class="link" href="http://bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="listitem"><p>Official Bitrise Steps are labeled with a green badge.</p></li><li class="listitem"><p>Community created Steps do not have any badge.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-088fa6df-9163-1518-308d-87ad0916c60f.jpg" style="" alt="Verified Steps"></img></div><p>In this guide we explain how to get your Step verified by Bitrise.</p><div dir="ltr" class="important"><h3 class="title">Requirements</h3><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>For company owned services and tools: Your company must be the owner of the service or tool used by the Step to apply for the Verified badge.</p></li><li class="listitem"><p>For open-source services or tools: If you are a member of an open source or other informal team, please confirm with the rest of the team that you may sign this for yourself and that it applies to the Steps you are submitting for the team.</p></li><li class="listitem"><p>Your Step must comply with our<a class="link linktype-component" href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html#UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-6fbb5ed7-26eb-e34d-2f1b-0fb51645e41f" title="Service level agreement for Verified Step authors"> Service Level Agreement</a> .</p></li><li class="listitem"><p>Your Step must have its own Step icon.</p></li><li class="listitem"><p>You must include a Workflow Recipe to a Step to become a Verified Step.</p></li></ul></div></div><p>We strongly recommend that you consult with our Step development guidelines before creating a Step.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-51f552c1-7b73-1cd6-9136-4269c401e3a8"><div class="titlepage"><div><div class="title"><h6 class="title">What is a Workflow Recipe?</h6></div></div></div><p>A Workflow Recipe is a template that anyone submitting a Step to Bitrise must put together when applying for the Verified Step badge. You can develop a Step and decide not to include a Workflow Recipe, but to turn your Step into a Verified one, you have to submit a Workflow Recipe as well.</p><p>Workflow Recipes are published on <a class="link" href="http://bitrise.io" target="_blank" rel="noopener">Bitrise</a> where our Bitrise community can learn how the Verified Step can be used in a specific setup.</p><p>Should you have questions, please turn to our partnership team at <a class="link" href="mailto:partnerships@bitrise.io" target="_blank">partners@bitrise.io</a>.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-d2cc5184-0a76-bd3c-ba6d-42022522a256"><div class="titlepage"><div><div class="title"><h6 class="title">Promoting your Verified Step</h6></div></div></div><p>As part of the Verified Step Program, you must commit to taking part in one or more than one of the following co-marketing activities:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In-app messaging.</p></li><li class="listitem"><p>Dedicated co-branded email campaign, or newsletter mention.</p></li><li class="listitem"><p>Blog post content.</p></li><li class="listitem"><p>How-to article, documentation, or help center page.</p></li><li class="listitem"><p>Social media activities.</p></li><li class="listitem"><p>Webinars or virtual events.</p></li><li class="listitem"><p>Podcasts.</p></li><li class="listitem"><p>Events (panels, fireside chats, video testimonials, or sponsorship).</p></li><li class="listitem"><p>Case study/whitepaper/ebook/ (shared research, testimonials, co-writing a chapter, publishing on each others’ blogs).</p></li><li class="listitem"><p>Video content posted on our public YouTube channel.</p></li><li class="listitem"><p>Joint PR campaigns.</p></li></ul></div><p>These co-marketing opportunities enable you to increase your product’s content generation output, grow go-to-market plans, and help to drive integration adoption.</p><p>You can consult with your Bitrise Partner Manager (<a class="link" href="mailto:partnerships@bitrise.io" target="_blank">partners@bitrise.io</a>) to confirm which co-marketing activities you can do, clarifying what level of involvement you will want to do based on your marketing plans. There can be many interested in a single co-marketing event so your involvement is managed on a first-come, first-serve basis.</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-1c235c2c-0c86-741f-c100-1a37e7a56e97"><div class="titlepage"><div><div class="title"><h6 class="title">Applying for a Verified badge</h6></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create the Step based on our <a class="link" href="https://devcenter.bitrise.io/contributors/create-your-own-step/" target="_blank" rel="noopener">Step development guideline</a>. The Step’s repository MUST be on GitHub.</p></li><li class="listitem"><p>Share your Step in our <a class="link" href="https://github.com/bitrise-io/bitrise-steplib" target="_blank" rel="noopener">bitrise-steplib</a> and fill out the New Pull Request Checklist.</p></li><li class="listitem"><p>When the <span class="bold"><strong>CLAassistant</strong></span> prompts you, sign our Contributor License Agreement. Until this is not completed, merging is blocked on the PR.</p><div class="mediaobject"><img src="image/uuid-3679bced-2110-dcca-65f5-cd6b021dd06b.jpg" style="" alt="Verified Steps"></img></div><div class="mediaobject"><img src="image/uuid-86a9716e-a03b-5e2f-dd78-3601851bac37.jpg" style="" alt="Verified Steps"></img></div></li><li class="listitem"><p>Please fill out our <a class="link" href="https://bitrise.typeform.com/to/YnY8KftK" target="_blank" rel="noopener">Partnership Form</a>!</p></li></ol></div><p>Once you submitted the form, our Partner Management Team will contact you within 5 business days to discuss the rest of the process.</p><p>If at any stage of the process you wonder what happens with a Step candidate that is already covered by another Step in our StepLib, head over to <a class="link linktype-component" href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html#UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-29f1569c-183a-4a7a-d7aa-2142a55b0023" title="How do we go about Step duplications?">How do we go about Step duplication</a>?</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-6fbb5ed7-26eb-e34d-2f1b-0fb51645e41f"><div class="titlepage"><div><div class="title"><h6 class="title">Service level agreement for Verified Step authors</h6></div></div></div><p>Anyone can contribute to a Verified Step which is already part of our StepLib by creating an issue or a pull request (PR). The Verified Step author has to manage the contribution (for example, issue, PR, or any maintenance such as third-party system changes) from start to finish. Bitrise monitors open issues and PRs created for Verified Steps and contacts the Verified Step authors if those contributions are not handled. If the Verified Step author fails to manage the contribution as described in our Contributor License Agreement and this SLA, Bitrise withdraws the Verified badge from the Step. This is to ensure Verified Steps in our StepLib are always of high quality and meet Bitrise users’ expectations.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-14c6299b-4e97-269b-d598-415ce6e55e30"><div class="titlepage"><div><div class="title"><h6 class="title">Managing contributions</h6></div></div></div><p>The following guidelines aim to help Verified Step authors categorize contributions. The Verified Step author is responsible for any contribution made to the Verified Step. The Verified Step author acknowledges the contribution by adding a label an estimated time to perform the fix, and merge the PR. There are four labels the author can use to categorize the type of contribution:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">critical-bug</code> label means that the current feature set has abnormal behavior, which blocks users from using the Step and there is no workaround to fix the issue. This critical bug must be fixed by the author.</p></li><li class="listitem"><p><code class="code">bug</code> label means that the current feature set has abnormal behavior, which does not block users from using the Step and there is a workaround for the issue. This bug must be fixed by the author.</p></li><li class="listitem"><p><code class="code">feature-request</code> label means that a new feature or Step is being requested. The Verified Step author can decide if the feature is worth implementing.</p></li><li class="listitem"><p><code class="code">maintenance</code> label means improving the Step’s source code in a way that it does not add new features or potential bugs to the Step. The Verified Step author can decide whether the feature is worth implementing or not.</p></li><li class="listitem"><p><code class="code">rejected</code> label means the contribution which gets rejected by the Verified Step author must be closed within the first response time, that is 5 business days. When rejecting a contribution, the Verified Step author has to provide an explanation to the contributor within the first response time.</p></li><li class="listitem"><p><code class="code">accepted</code> contribution means that the given: critical-bug, bug, feature, maintenance will be fixed/merged within the given resolution time.</p></li></ul></div><p>First response time means that there is a 5 day window during which the Verified Step author should respond to the contribution with the accepted or rejected labels.</p><p>Resolution time means a certain amount of business days during which the contribution (issue or PR) should be completed by the Verified Step author.</p><div class="informaltable table-responsive"><table class="informaltable"><thead><tr><th class="th"><p>Type</p></th><th class="th"><p>First response time</p></th><th class="th"><p>Resolution time</p></th></tr></thead><tbody><tr><td class="td"><p>critical-bug</p></td><td class="td"><p>5 business days</p></td><td class="td"><p>10 business days</p></td></tr><tr><td class="td"><p>bug</p></td><td class="td"><p>5 business days</p></td><td class="td"><p>15 business days</p></td></tr><tr><td class="td"><p>feature-request</p></td><td class="td"><p>5 business days</p></td><td class="td"><p>20 business days</p></td></tr><tr><td class="td"><p>maintenance</p></td><td class="td"><p>5 business days</p></td><td class="td"><p>20 business days</p></td></tr></tbody></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-4a6edbc8-197c-3bd9-7dbb-6411a6514e84_UUID-29f1569c-183a-4a7a-d7aa-2142a55b0023"><div class="titlepage"><div><div class="title"><h6 class="title">How do we go about Step duplications?</h6></div></div></div><p>In general we try to keep our StepLib streamlined and avoid Step duplications for the same build task. Here you can find some questions and answers when it comes to any potential Step duplications.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>I was going to submit a Step and apply for the Verified badge, but found out there was an official Bitrise Step for the same build task in the StepLib. What should I do?</em></span></p></li></ul></div><p>Submit your Step and go through the application process. Once your application is completed, we deprecate the official Bitrise Step and our users can use your new Verified Step.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>I was going to submit a Step and apply for the Verified badge, but found out there was a Community Step for the same build task. What should I do?</em></span></p></li></ul></div><p>Submit your Step and go through the application process. Your new Verified Step and the Community Step will be both available in our StepLib.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>I was going to submit a Community Step but found out there was a Verified Step for the same build task. What should I do?</em></span></p></li></ul></div><p>If a Verified Step is already available in our StepLib, we reject Community Step submission for the same build task to avoid Step duplication. We offer to the Community Step developer to work on future updates of the already existing Verified Step.</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-a34926b3-4944-74d2-3cd3-46a8df5881d8" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c"><div class="titlepage"><div><div class="title"><h5 class="title">Creating your own Bitrise project scanner</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>A Bitrise project scanner must have a scan result model. Every platform scanner writes its possible options, configurations, and warnings into this model. These will be translated into Step input values by choosing the desired values for the given options.</p></div></div></div></div><p>The project scanner is a tool that identifies the given project’s type and generates a basic Bitrise configuration. Each supported project type has its own scanner: these scanners are stored as separate packages.</p><p>A project type scanner defines at least two <em class="glossterm">Workflows</em>: one for testing (<code class="code">primary</code>) and one for building (<code class="code">deploy</code>). It includes the minimal amount of Steps to successfully run them.</p><div dir="ltr" class="important"><h3 class="title">Build and test Steps</h3><p>Build Steps and test Steps have specific requirements:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>A build <em class="glossterm">Step</em> must build your app so that it is ready for deployment and it must output an Environment Variable that points to the output file(s). For example, a build Step to build an iOS app must output an .ipa file (not, say, <code class="filename">.xcodearchive</code>) and the path to this .ipa file.</p></li><li class="listitem"><p>A test Step must output the test results so that they are available for viewing on the build page on bitrise.io.</p></li></ul></div></div><p>When adding a new project on the website or initializing a project on your own machine, the <a class="link" href="https://github.com/bitrise-core/bitrise-init" target="_blank" rel="noopener">bitrise-init</a> tool iterates through every scanner, calls the scanner interface methods on each of them and collects their outputs. Based on these outputs, a basic configuration is generated.</p><p>The possible Workflows are described in a scan result model. The model consists of:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>options</p></li><li class="listitem"><p>configs</p></li><li class="listitem"><p>warnings</p></li></ul></div><p>Here is the basic structure of the model, in YAML:</p><pre class="programlisting">options:
  DETECTED_PLATFORM_1: OptionModel
  DETECTED_PLATFORM_2: OptionModel
  ...

configs:
  DETECTED_PLATFORM_1:
    CONFIG_NAME_1: ConfigModel
    CONFIG_NAME_2: ConfigModel
    ...
  DETECTED_PLATFORM_2:
    CONFIG_NAME_1: ConfigModel
    CONFIG_NAME_2: ConfigModel
    ...
  ...

warnings:
  DETECTED_PLATFORM_1:
  - "warning message 1"
  - "warning message 2"
  ...
  DETECTED_PLATFORM_2:
  - "warning message 1"
  - "warning message 2"
  ...</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Every platform scanner writes its possible options, configurations and warnings into this model. These will be translated into Step input values by choosing the desired values for the given options.</p></li><li class="listitem"><p>Every option chain’s last option selects a configuration.</p></li><li class="listitem"><p>Warnings display the issues with the given project setup.</p></li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c_UUID-91766f7b-bff0-4669-a51d-7f989b056382"><div class="titlepage"><div><div class="title"><h6 class="title">Options</h6></div></div></div><p><code class="code">Options</code> represents a question and the possible answers to the question. For example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Question: What is the path to the iOS project files?</p></li><li class="listitem"><p>Possible answers: List of possible paths to check</p></li></ul></div><p>These questions and answers are translated into Step inputs. The scanner should either determine the input value or let the user select or type the value.</p><p>For example, the <code class="code">Xcode Archive &amp; Export for iOS</code> Step has an input called <code class="varname">export-method</code>. This informs the Step of the type of .ipa you want to export. The value cannot be determined based on the source code so the scanner collects every possible value and presents them to the user in the form of a list to choose from.</p><p>Selecting an option can start a chain: it can lead to different options being presented afterwards. For example, if you select an Xcode scheme that has associated test targets, it leads to different “questions”. Similarly, selecting a certain option can lead to a different workflow being generated afterwards.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c_UUID-bbcb6d3a-2cfb-863a-f6c1-25d6a34044e5"><div class="titlepage"><div><div class="title"><h6 class="title">The option model</h6></div></div></div><p>The <code class="code">OptionModel</code> represents an input option. It looks like this in Go:</p><pre class="programlisting">// OptionModel ...
type OptionModel struct {
    Title  string
    EnvKey string

    ChildOptionMap map[string]*OptionModel
    Config         string
}</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">Title</code>: the human readable name of the input.</p></li><li class="listitem"><p><code class="varname">EnvKey</code>: it represents the input’s key in the step model.</p></li><li class="listitem"><p><code class="varname">ChildOptionMap</code>: the map of the subsequent options if the user chooses a given value for the option.</p></li></ul></div><p>For example, let’s see a scenario where you choose a value for the <code class="varname">Scheme</code> input. You will have a <code class="varname">value_map</code> in the <code class="code">options</code>. The possible values are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="varname">SchemeWithTest</code></p></li><li class="listitem"><p><code class="varname">SchemeWithoutTest</code></p></li></ul></div><p>By choosing <code class="code">SchemeWithTest</code>, the next option will be related to the simulator used to perform the test.</p><p>By choosing <code class="code">SchemeWithoutTest</code>, the next option will be about the export method for the .ipa file.</p><pre class="programlisting">{
    "title": "Scheme",
    "env_key": "scheme",
    "value_map": {
        "SchemeWithTest": {
            "title": "Simulator name",
            "env_key": "simulator_name",
            ...
        },
        "SchemeWithoutTest": {
            "title": "Export method",
            "env_key": "export_method",
            ...
        }
    }
}</pre><p>Every option chain has a first option: this is called <code class="code">head</code>. The possible values of the options can branch the option chain.</p><p>Every option branch’s last <code class="code">options</code> must have a <code class="varname">config</code> property set. <code class="varname">config</code> holds the id of the generated Bitrise configuration.</p><p>An options chain’s last <code class="code">options</code> cannot have a <code class="varname">value_map</code>.</p><pre class="programlisting">{
    "title": "Scheme",
    "env_key": "scheme",
    "value_map": {
        "SchemeWithTest": {
            "title": "Simulator name",
            "env_key": "simulator_name",
            "value_map": {
                "-": {
                    "config": "bitrise_config_with_test",
                }
            }
        },
        "SchemeWithoutTest": {
            "title": "Export method",
            "env_key": "export_method",
            "value_map": {
                "development": {
                    "config": "bitrise_config_without_test",
                },
                "app-store": {
                    "config": "bitrise_config_without_test",
                },
                "ad-hoc": {
                    "config": "bitrise_config_without_test",
                }
            }
        }
    }
}
</pre></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c_UUID-57e2af54-c962-a5b4-dbde-f39267b96541"><div class="titlepage"><div><div class="title"><h6 class="title">Scanners</h6></div></div></div><p>Scanners generate the possible <code class="code">options</code> chains and the possible workflows for the <code class="code">options</code> per project type. The <code class="code">ActiveScanner</code> variable holds each scanner implementation. Every specific scanner implements the <code class="code">ScannerInterface</code>.</p><pre class="programlisting">// ScannerInterface ...
type ScannerInterface interface {
    Name() string
    DetectPlatform(string) (bool, error)

    Options() (models.OptionModel, models.Warnings, error)
    Configs() (models.BitriseConfigMap, error)

    DefaultOptions() models.OptionModel
    DefaultConfigs() (models.BitriseConfigMap, error)

    ExcludedScannerNames() []string
}</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">Name() string</code>: This method is used for logging and storing the scanner output (warnings, options and configs). The scanner output is stored in <code class="code">map[SCANNER_NAME]OUTPUT</code>. For example, the <code class="code">options</code> for an iOS project is stored in <code class="code">optionsMap[ios]options</code>.</p></li><li class="listitem"><p><code class="code">DetectPlatform(string) (bool, error)</code>: This method is used to determine if the given search directory contains the project type or not.</p></li><li class="listitem"><p><code class="code">Options() (models.OptionModel, models.Warnings, error)</code>: This method is used to generate option branches for the project. Each branch should define a complete and valid option set to build the final bitrise config model. Every option branch’s last <code class="code">Options</code> has to store a configuration id, which will be filled with the selected options.</p></li><li class="listitem"><p><code class="code">Configs() (models.BitriseConfigMap, error)</code>: This method is used to generate the possible configs. BitriseConfigMap’s each element is a bitrise config template which will be fulfilled with the user selected option values.</p></li><li class="listitem"><p><code class="code">DefaultOptions() models.OptionModel and DefaultConfigs() (models.BitriseConfigMap, error)</code> : These methods are used to generate the options and configs without scanning the given project. In this case every required step input value is provided by the user. This way even if a scanner fails, the user has an option to get started.</p></li></ul></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c_UUID-5b91d715-95c4-e2cf-6510-e41971f7d254"><div class="titlepage"><div><div class="title"><h6 class="title">Testing a scanner</h6></div></div></div><p>To test a scanner, we require both unit tests and integration tests.</p><p>Unit tests are written using Go’s standard testing library.</p><p>For integration tests, we are validating that the project type scanners are generating the desired Bitrise configurations for an instance of the project type. To do this, we use the new scanner to scan the given sample project and we modify the generated scan result to fit our integration tests.</p><p>The reason for the modification is that the scanners are adding Steps to the generated config, but the Step versions are updated from time to time. The Step version definitions can be found at <code class="filename">steps/const.go</code>.</p><p>So we call <code class="code">bitrise-init --ci config</code> in the sample project’s root directory, and in the generated <code class="filename">scan_result.yml</code> file we replace the Step versions with <code class="code">%s</code> and we use <code class="code">fmt.Sprintf</code> to inject the latest defined Step versions into the config.</p><p>In the integration tests, we are matching the <code class="filename">scan_result.yml</code> file generated by the scanner with the previously generated reference <code class="filename">scan_result</code> content.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-6f7ab4ed-3edb-2f43-3fc1-a492a3eada8c_UUID-64d1a8e9-8c1c-f7e5-7732-a472ed576b35"><div class="titlepage"><div><div class="title"><h6 class="title">Submitting your own scanner</h6></div></div></div><p>You can submit your own scanner to Bitrise: we will review it and integrate it to the bitrise-init tool once it’s approved!</p><p>The development path for a new scanner starts with your own sample project and ends with updating the existing Steps for your project type. Let’s go through it!</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Find or create an open source sample app that demonstrates a typical instance of your project type.</p><p>It should include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>a readme file (including tool versions required for updating, building and testing this project).</p></li><li class="listitem"><p>a <code class="filename">bitrise.yml</code> file that is generated by your scanner.</p></li></ul></div></li><li class="step"><p>Build and test your sample app with existing Steps or custom scripts.</p></li><li class="step"><p>Create the missing Steps the new project type needs.</p><p>The PR for these Steps should link the scanner PR once you created the scanner.</p></li><li class="step"><p>Create a scanner for your project type.</p></li><li class="step"><p>Run the required unit tests and integration tests.</p></li><li class="step"><p>Open a scanner pull request to the bitrise-init project.</p><p>It should:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>link the new project type’s sample app.</p></li><li class="listitem"><p>link the new project type’s guides for testing and building.</p></li><li class="listitem"><p>include an icon for the new project type - otherwise we will create one for you.</p></li><li class="listitem"><p>recommend the default stack by listing the required tools for building and testing the new project type.</p></li></ul></div></li><li class="step"><p>Update the existing Steps with the new project type if necessary.</p><p>The PR for these Steps should link the scanner PR.</p></li></ol></div></section></section></section></section><div class="footer-content"><div class="additional-links"></div></div><footer></footer></div></div></div></div></div></div></body></html>
