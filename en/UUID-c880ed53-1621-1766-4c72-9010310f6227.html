<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><script xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" type="text/javascript">
			var index;
			var contentLanguage = 'en';
			var enterKey = 'select';
			
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			</script><title>Build stacks</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style.css"></link><link rel="stylesheet" type="text/css" href="../css/style-responsive.css"></link><script src="../js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.event.move.js" type="text/javascript"></script><script src="../js/jquery.event.swipe.js" type="text/javascript"></script><script src="../js/jquery.sticky.js" type="text/javascript"></script><script src="../js/respond.min.js" type="text/javascript"></script><script src="../js/script.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" name="generator" content="Paligo"></meta><meta name="description" content="The Bitrise build stack defines the virtual machine version used to run your builds. The main types are macOS stacks and Android &amp; Docker stacks."></meta><link rel="prev" href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html" title="Build machines"></link><link rel="next" href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html" title="Code security"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../js/cookie-consent.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></head><body xmlns:php="http://php.net/xsl" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><div id="page" class="clearfix"><div id="header"><div class="container"><div id="logotype-container" class="pull-left"><a href="../index.html"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype"></img></a></div><div id="pagetools-container" class="pull-right"><ul id="page-tools"><li class="page-tools-search"><input placeholder="Search" type="text" class="form-control" aria-label="Search" id="search"></input></li><li class="page-tools-print"><a href="javascript:window.print();"><span class="tool-label">Print</span><span class="glyphicon glyphicon-print"></span></a></li></ul></div></div></div><h1 id="publication-title">Parent publication</h1><div id="subheader-sticky-wrapper" class="sticky-wrapper"><div id="subheader"><div class="container"><div class="row"><div class="col-md-3 toc-title"><h2><a class="prev nav-icon hidden-lg hidden-md" href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html"><span class="glyphicon glyphicon-chevron-left"></span> </a><a href="#toc" class="hidden mobile-nav-toggle"><span class="glyphicon glyphicon-list"></span>Table of Contents</a><span class="toc-label">Table of Contents</span><a class="next nav-icon hidden-lg hidden-md" href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html"><span class="glyphicon glyphicon-chevron-right"></span> </a></h2></div><div class="col-md-9 breadcrumb-container"><ul xmlns:util="http://www.paligo.net/xsl1/functions/utility" class="breadcrumb"><li class="breadcrumb-link"><span class="glyphicon glyphicon-home"></span> <span class="current-category">Parent publication</span></li><li class="breadcrumb-link"><a>Welcome to Bitrise documentation!</a></li><li class="breadcrumb-link"><a href="UUID-520baf25-3180-0ceb-91b5-1e0da25382d0.html">Infrastructure</a></li><li class="breadcrumb-node">Build stacks</li></ul></div></div></div></div></div><div id="main-content"><div class="container"><div class="row"><div class="col-md-3 toc-container" id="toc-wrapper"><div id="toc-placeholder"><ul class="toc"><li><a href="UUID-6417de03-03ef-7c79-83a0-26f08db51f10.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Welcome to Bitrise documentation!</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-000c8bad-6d7f-0d5d-b401-26d496fba183" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-45c98b6e-ff48-e720-c001-f3959ff58028" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-15a4b450-3823-111b-a88a-98f66ef246cc" class="topic-link">Adding a new app</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-ddaf0b44-cc2e-e0da-0268-aaa5e0a10ba6" class="topic-link">Webhooks and triggers</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-efd02dd1-4217-aaf4-87c0-debd71494d1c" class="topic-link">Builds and Workflows</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-b4be56a8-29cb-9a91-da5a-2221b0e200ed" class="topic-link">Testing and deploying</a></li><li><a href="UUID-8879f258-0558-f6ee-98e5-5a2506d82df9.html" class="topic-link">Migrating to Bitrise</a></li><li><a href="UUID-9dc60577-d179-a769-7d72-d59b459e13d1.html" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-d2dc0473-cf38-63d8-804f-9ea086df9756.html" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-bb7c5561-43c7-fce8-d0d1-5b426246c350.html" class="topic-link">Adding a new app</a></li><li><a href="UUID-81a6851f-9012-17b1-188b-167cce87cfb9.html" class="topic-link">Getting started with iOS apps</a></li><li><a href="UUID-a4a3c266-19bb-8741-cd56-40fee645d58b.html" class="topic-link">Getting started with Android apps</a></li><li><a href="UUID-4d21f88e-bcef-8665-7827-4ae0f68faeb2.html" class="topic-link">Getting started with React Native apps</a></li><li><a href="UUID-40b0a17c-5aa4-821c-9d80-17003cdf6c1c.html" class="topic-link">Getting started with Flutter apps</a></li><li><a href="UUID-9872034d-c75b-ac41-77c9-2be96702439c.html" class="topic-link">Getting started with Ionic/Cordova apps</a></li><li><a href="UUID-d27d764d-2fde-f7ac-4720-1d02853a67aa.html" class="topic-link">Getting started with Expo apps</a></li></ul></li><li><a href="UUID-520baf25-3180-0ceb-91b5-1e0da25382d0.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Infrastructure</a><ul><li><a href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html" class="topic-link">Build machines</a></li><li><a href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html" class="topic-link">Build stacks</a></li><li><a href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html" class="topic-link">Code security</a></li><li><a href="UUID-49f916c8-22af-0ba9-036c-e9ebc6ea84a9.html" class="topic-link">Customizable enterprise build platforms</a></li><li><a href="UUID-328bfe61-e2fb-9b6b-6b93-6345a4ba97dd.html" class="topic-link">Using your own Docker image</a></li><li><a href="UUID-a1c6c4a9-2bfa-77f5-0299-f1f1ba1deaa9.html" class="topic-link">Running your build locally in Docker</a></li></ul></li><li><a href="UUID-86714967-7e3d-c756-42f9-9ac1db7edb4a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Accounts</a><ul><li><a href="UUID-4d3ea107-005d-70dd-2a77-359c84e92781.html" class="topic-link">Connecting to services</a></li><li><a href="UUID-aadae04b-8b51-3d8f-0c55-6323223e7b29.html" class="topic-link">SAML SSO in Bitrise</a></li><li><a href="UUID-7fb1877e-7cf1-93c8-e09f-40ed90eedbe4.html" class="topic-link">Editing your profile settings</a></li><li><a href="UUID-98fae107-f00b-060f-6d1e-8076a6e360b0.html" class="topic-link">Resetting your password</a></li><li><a href="UUID-0cd731ce-5173-4a0b-d169-cf7caee9eb7c.html" class="topic-link">Two-factor authentication</a></li><li><a href="UUID-bc4ede62-d9f4-97dc-f34e-09782465c93e.html" class="topic-link">Personal access tokens</a></li><li><a href="UUID-fa9c37a1-64d0-5c74-f324-b198ad66462d.html" class="topic-link">Deleting your Bitrise account</a></li></ul></li><li><a href="UUID-66682ae4-b435-da98-c588-4cb36589e592.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workspaces</a><ul><li><a href="UUID-b2672a81-1e7e-0ab4-55dc-44396d01a5b5.html" class="topic-link">Creating Workspaces</a></li><li><a href="UUID-b0887572-7a06-ffb9-1d63-1adc4de6bd9c.html" class="topic-link">Workspace billing and invoicing</a></li><li><a href="UUID-39752d56-7087-4b7e-67a0-7b4cbeb0bfe0.html" class="topic-link">Workspace groups</a></li><li><a href="UUID-0e48bb3c-f26a-2076-c9a9-889c3d955549.html" class="topic-link">Managing the owners of a Workspace</a></li><li><a href="UUID-74ca6188-a67e-c5b2-4ace-282d652ef8d8.html" class="topic-link">Workspace FAQ</a></li></ul></li><li><a href="UUID-c94ad031-477a-dc62-bfb2-be8a740da8c3.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Apps</a><ul><li><a href="UUID-c98a5e1e-cd0c-42b3-00bf-70ab149c6974.html" class="topic-link">Webhooks</a></li><li><a href="UUID-66811810-1d10-b6b9-3aa2-3d886f843f08.html" class="topic-link">Configuring the repository URL and default branch</a></li><li><a href="UUID-b567647e-2421-59ae-7fd8-ec3d3e337378.html" class="topic-link">Configuring SSH keys</a></li><li><a href="UUID-a34567f4-74e4-1f1d-7d8d-96cbffcad04f.html" class="topic-link">Managing user access to an app</a></li><li><a href="UUID-a89f6244-90e5-bb75-35b5-730d57a0daf8.html" class="topic-link">User roles on app teams</a></li><li><a href="UUID-0a12640a-cf3e-6089-dd61-8f3d5da9ca27.html" class="topic-link">Changing the owner of an app</a></li><li><a href="UUID-4f3d837e-5293-365c-4da6-e69b8795cad3.html" class="topic-link">Enabling the Bitrise Support Access for your app</a></li><li><a href="UUID-7977c15f-d343-5588-763e-34b407ef2d6d.html" class="topic-link">Apps with submodules or private repo dependencies</a></li><li><a href="UUID-20ad211e-6e31-4fe0-bca8-61358e546ed2.html" class="topic-link">Public apps</a></li><li><a href="UUID-30061fe3-6a35-8213-71dd-492d8203959f.html" class="topic-link">Creating white label app versions</a></li></ul></li><li><a href="UUID-bf795ad3-7684-a92f-12e3-7f40724cc24c.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workflows and Pipelines</a><ul><li><a href="UUID-922d7042-4d8c-ecaf-aa47-00a99e408e72.html" class="topic-link">Steps</a></li><li><a href="UUID-efdef6c2-cf0b-4921-7186-79a7db0e9bea.html" class="topic-link">Adding Steps to a Workflow</a></li><li><a href="UUID-be3b0e80-c6fd-363e-1b8c-d71e53b9db6c.html" class="topic-link">Step versioning</a></li><li><a href="UUID-f33fb9b7-70bb-f3f1-e4c5-2ce6bbc59a70.html" class="topic-link">Step inputs</a></li><li><a href="UUID-9bcaffa9-f602-c3e4-a8cb-1bb7cfe04760.html" class="topic-link">Skipping Steps</a></li><li><a href="UUID-2b8c8853-f79a-c077-88d6-35eab62e5bb5.html" class="topic-link">Enabling or disabling a Step conditionally</a></li><li><a href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html" class="topic-link">Setting a time limit for Steps</a></li><li><a href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html" class="topic-link">Developing your own Bitrise Step</a></li><li><a href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html" class="topic-link">Workflows</a></li><li><a href="UUID-c30c1c55-0442-47eb-8332-5d12d7f86b03.html" class="topic-link">Default Workflows</a></li><li><a href="UUID-4053e094-d35f-04b9-2ddc-82c470cbe0f6.html" class="topic-link">Creating a Workflow</a></li><li><a href="UUID-23564ae8-b234-0635-694e-7272b31f5ab4.html" class="topic-link">Managing Workflows</a></li><li><a href="UUID-72c92b04-4c0e-fde0-26ab-122240ad1021.html" class="topic-link">Copying Workflows from one app to another</a></li></ul></li><li><a href="UUID-40454aa8-e0ff-ee45-7f68-d733d663b05d.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Builds</a><ul><li><a href="UUID-3daa70a4-ac48-5727-e5fa-34d46303ecef.html" class="topic-link">Configuring build settings</a></li><li><a href="UUID-8749ff03-1d05-9854-489b-c791d9a40463.html" class="topic-link">Starting builds</a></li><li><a href="UUID-e01af56f-e7e8-042a-b224-6d8e895014f7.html" class="topic-link">Caching</a></li><li><a href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html" class="topic-link">Managing build files</a></li><li><a href="UUID-7ee2edb2-aa92-cbc7-e229-4177d416abd0.html" class="topic-link">Environment Variables</a></li><li><a href="UUID-bfc35b35-3895-2edb-471b-ab040993c3bf.html" class="topic-link">Secrets</a></li><li><a href="UUID-a2d504d0-aa72-895e-5ec6-998fbbe323da.html" class="topic-link">Build statuses</a></li><li><a href="UUID-4b5b1437-c4e5-7367-e994-b5738e643e14.html" class="topic-link">Installing tools during a build</a></li><li><a href="UUID-eaf0f2d1-5761-4afb-ddd6-55587fd7d005.html" class="topic-link">Connecting to a VPN during a build</a></li><li><a href="UUID-0873b810-755d-fc96-7bc7-c3c5abaeb537.html" class="topic-link">Finding a specific build</a></li><li><a href="UUID-0d5f20be-06fb-37bc-5603-4310b4c54ca0.html" class="topic-link">Build numbering and app versioning</a></li><li><a href="UUID-fa640ec3-6a1b-3975-89a3-5ef429bd5db4.html" class="topic-link">Build data and troubleshooting</a></li></ul></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Code signing</a><ul><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4631258650456032720420480273" class="topic-link">iOS code signing</a></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4611295222790432720420899685" class="topic-link">Android code signing</a></li><li><a href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" class="topic-link">Android code signing</a></li><li><a href="UUID-31ae6f50-5e6c-3854-a3ba-3b0c408f2bcf.html" class="topic-link">iOS code signing</a></li></ul></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Testing</a><ul><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4582261199457633614655441813" class="topic-link">iOS testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4554386107363233615372540591" class="topic-link">Android testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4588064863241633615395298671" class="topic-link">Flutter testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm453276716924643361540097373" class="topic-link">React Native testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4587277360200033615408088734" class="topic-link">Device testing with Firebase</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4589017689313633615416505697" class="topic-link">Test Reports</a></li><li><a href="UUID-4e5399ab-e144-4ece-9e5e-b79866bee64b.html" class="topic-link">Test Reports</a></li><li><a href="UUID-19be1017-9668-f17a-1034-b76f08805e49.html" class="topic-link">Exporting to Test Reports from any Step</a></li><li><a href="UUID-b81c44d0-a3c5-dd6d-0c67-5439429d0b33.html" class="topic-link">Running unit and UI tests for iOS apps</a></li><li><a href="UUID-c8b0f3dc-005c-e07b-3dba-bd992fe4df99.html" class="topic-link">Installing an .ipa file</a></li><li><a href="UUID-f8def6f5-0edf-0478-fe79-a7b56ecf368f.html" class="topic-link">Registering test devices for iOS apps</a></li><li><a href="UUID-eb9315e2-7ece-a2d8-dc0b-df35239335b1.html" class="topic-link">Device testing for iOS</a></li><li><a href="UUID-aef3a46c-6266-9e04-37ea-a33c3bd19a67.html" class="topic-link">Running Android unit tests</a></li><li><a href="UUID-1d5b5ee4-cc81-963f-23c9-7526e4f9a301.html" class="topic-link">Device testing for Android</a></li><li><a href="UUID-4e1444ac-fffa-efb0-328d-4624390aecfc.html" class="topic-link">Running tests in the Visual Studio App Center</a></li><li><a href="UUID-a1884560-256b-1ed2-8610-c0f75ad7722c.html" class="topic-link">Running Detox tests on Bitrise</a></li><li><a href="UUID-a0825290-23c2-2f73-ee6b-49f79247bb96.html" class="topic-link">Measuring your code coverage with Codecov</a></li></ul></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Deploying</a><ul><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4608508127177634306819235491" class="topic-link">Deploying Android apps</a></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736" class="topic-link">Deploying iOS apps</a></li><li><a href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html" class="topic-link">Android deployment</a></li><li><a href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html" class="topic-link">iOS deployment</a></li><li><a href="UUID-a98fe87f-4567-c925-bb4c-e7305a358f31.html" class="topic-link">Deploying with Ship</a></li><li><a href="UUID-486f03bc-17cb-3874-60ef-9c72c9cac4fc.html" class="topic-link">Deploying apps to Applivery</a></li><li><a href="UUID-2cf0f826-fe4d-a23d-a986-f6533dd1ec98.html" class="topic-link">Deploying apps to DeployGate from Bitrise</a></li><li><a href="UUID-a4f81ac8-cc20-95c3-78aa-6cfa92259424.html" class="topic-link">Deploying your app to Appaloosa</a></li><li><a href="UUID-75b882c9-9b2e-43f0-9a71-bbd1b94c2e77.html" class="topic-link">Deploying to TestFairy with Bitrise</a></li></ul></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Insights</a><ul><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4594098314464032933411789556" class="topic-link">How Insights works</a></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4571274750044834144481960674" class="topic-link">Git Insights and remote caching</a></li><li><a href="UUID-a69bea49-f8f3-cf2d-26c8-0a17d973daa7.html" class="topic-link">Getting started with Insights</a></li><li><a href="UUID-e92853be-cf2f-bc35-98c1-86b7b5f2a1d9.html" class="topic-link">Available metrics in Insights</a></li><li><a href="UUID-7ac126d1-5bd9-e644-642d-f8755f15eaef.html" class="topic-link">Test stats in Insights</a></li></ul></li><li><a href="UUID-1e7fdeeb-5e8f-3ce1-777f-a4defadc6e4b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise CLI</a><ul><li><a href="UUID-372b2639-babb-6390-d1d2-898e39825d4a.html" class="topic-link">Installing and updating the Bitrise CLI</a></li><li><a href="UUID-65586a1e-a8a7-e642-a281-bb535f60d8f0.html" class="topic-link">Adding a new app from a CLI</a></li><li><a href="UUID-7266de66-409c-7a30-aa7b-78fb3b32172b.html" class="topic-link">Initializing a Bitrise project locally</a></li><li><a href="UUID-9c649821-1aaa-ab87-c4ec-925292d424f1.html" class="topic-link">Installing and upgrading the offline Workflow Editor</a></li><li><a href="UUID-537e2dfa-a322-df53-a92f-b1f63e99c7d7.html" class="topic-link">Running your first local build with the CLI</a></li><li><a href="UUID-6ee95b9f-a082-3d77-d20e-25be9969faa9.html" class="topic-link">Managing Secrets locally</a></li></ul></li><li><a href="UUID-1f199927-764a-51f2-1222-f5a529750c60.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> API</a><ul><li><a href="UUID-c75d8909-8594-0f0d-20ab-fceb36679f84.html" class="topic-link">Authenticating with the Bitrise API</a></li><li><a href="UUID-3897b0dc-2d7a-34a6-3a17-87e0270914dc.html" class="topic-link">Pagination of API calls</a></li><li><a href="UUID-3aa72056-57cd-3533-d8ed-445ef1584299.html" class="topic-link">Adding and managing apps</a></li><li><a href="UUID-c65412f0-db58-2bfc-b10b-c801d887def4.html" class="topic-link">Triggering and aborting builds</a></li><li><a href="UUID-ebbc713e-431e-4f12-ad70-8547c2932347.html" class="topic-link">Incoming and outgoing webhooks</a></li><li><a href="UUID-eaf0528b-c4fb-869e-aded-bcf6abbe69ba.html" class="topic-link">Managing iOS code signing files</a></li><li><a href="UUID-5832d66a-2451-ae69-92c5-53c32cd9e173.html" class="topic-link">Managing files in Generic File Storage</a></li><li><a href="UUID-a67de581-0791-2633-da8a-7f9bcbfe974e.html" class="topic-link">Managing build artifacts</a></li><li><a href="UUID-bea95175-ce19-7eaf-4987-2600317e2d4f.html" class="topic-link">API reference</a></li></ul></li><li><a href="UUID-8e76b4bd-aa2b-b98d-883d-f885032a7b8e.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> References</a><ul><li><a href="UUID-f7c6b635-3669-d853-b24b-4f8542f59a22.html" class="topic-link">Basics of bitrise.yml</a></li><li><a href="UUID-18c85a27-556f-bdba-18a4-c07af747b6e5.html" class="topic-link">Customizing the bitrise.yml config</a></li><li><a href="UUID-08e0cf6c-930a-b699-1e99-7d69aebfdd7c.html" class="topic-link">Workflow reference</a></li><li><a href="UUID-14e81619-0fe5-7d71-6223-9f5067d57904.html" class="topic-link">Steps reference</a></li><li><a href="UUID-732a64c9-4584-db4d-d753-f95122b8a69c.html" class="topic-link">Available Environment Variables</a></li><li><a href="UUID-e1449112-c102-2151-5ceb-116b55ecfaab.html" class="topic-link">Bitrise tools</a></li></ul></li></ul></li><li><a href="UUID-1a69c010-b7fd-4c0e-2cc0-26ceba8e5a15.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise Docs</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html#UUID-9bb609fc-1b22-e628-165d-46097239fb95_UUID-603c18c7-eb0e-7dfc-df86-42313f896cd3" class="topic-link">Teams and Organizations</a></li></ul></li><li><a href="UUID-b341255f-a55e-a7f0-b973-a84a0a873bdc.html" class="topic-link">Infrastructure</a></li><li><a href="UUID-e0122c2e-82a3-de27-339b-9f2111b187bb.html" class="topic-link">Account management</a></li><li><a href="UUID-0e88ed3d-4da3-f11f-91e7-a2c59c9bd90f.html" class="topic-link">Workspaces and apps</a></li><li><a href="UUID-dbbf25b0-de43-2e12-27dc-bc594db481ec.html" class="topic-link">Steps and Workflows</a></li><li><a href="UUID-06d1480b-816b-612a-62a4-69462e5d7d96.html" class="topic-link">Builds</a></li><li><a href="UUID-10314503-c554-ba24-63f6-964bae84651b.html" class="topic-link">Code signing</a></li><li><a href="UUID-6cc0b48c-cf6b-e5b7-9e4c-70edaa004389.html" class="topic-link">Testing</a></li><li><a href="UUID-52c4de75-9fe5-5bca-3b8a-64e2cf37cb75.html" class="topic-link">Deploying</a></li><li><a href="UUID-1f0b222e-04a6-451d-842a-0d776ed23a4a.html" class="topic-link">App monitoring</a></li><li><a href="UUID-af4417ce-4968-a84a-114d-e96f3ddb7d33.html" class="topic-link">Bitrise CLI</a></li><li><a href="UUID-12886403-46a8-3b37-000e-286292c993ae.html" class="topic-link">References</a></li><li><a href="UUID-1ad60eea-0461-739e-ac98-a3689e36692b.html" class="topic-link">Bitrise API</a></li></ul></li></ul></div></div><div class="col-md-9 content-container" id="content-wrapper"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html"><span class="glyphicon glyphicon-circle-arrow-left"></span>Prev</a><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html">Next<span class="glyphicon glyphicon-circle-arrow-right"></span></a><div id="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-d6a228ed-8c03-64f9-dd96-993adf80523b" data-publication-date="" id="UUID-c880ed53-1621-1766-4c72-9010310f6227"><div class="titlepage"><div><div class="title"><h4 class="title">Build stacks</h4></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>The Bitrise build stack defines the virtual machine version used to run your builds. The main types are macOS stacks and Android &amp; Docker stacks.</p></div></div></div></div><div class="mediaobject"><div class="video-container"><div class="videoobject"><iframe title="" style="border:0;" allow="fullscreen *" src="https://www.youtube.com/embed/cWjVb-QO_Ds"></iframe></div></div></div><p>The build <em class="glossterm">stack</em> indicates the virtual machine version that we will use to run your build. The main stack types are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>macOS stacks</strong></span>: These stacks run on a macOS operating system and each one includes multiple Xcode versions. Ideal for building iOS <em class="glossterm">apps</em>. They also have Android tools installed if you want to use them to build a cross-platform app.</p></li><li class="listitem"><p>The <span class="bold"><strong>Android &amp; Docker</strong></span> stack: These stacks run on Linux operating system in a Docker environment. They have all Android tools installed and they are ideal for building native Android apps.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Free disk space</h3><p>Each stack has at least 100 GB of free disk space. You can check each stack's exact available disk space on the relevant stack report page: <a class="link" href="https://stacks.bitrise.io/stack_reports/" target="_blank" rel="noopener">Bitrise stack reports</a>.</p></div><p>Each build runs in its own virtual machine and the virtual machine is rolled back to a saved state, the “base box” state, after the build is finished. This way <span class="bold"><strong>your builds are always protected</strong></span> by changes made by others and by your previous builds and you can use a <span class="bold"><strong>stable environment</strong></span> to define your build workflow, since no state persists between builds.</p><div dir="ltr" class="note"><h3 class="title">Passwordless sudo enabled</h3><p>The user account that is used for the builds is configured to have <span class="bold"><strong>passwordless sudo</strong></span> enabled. This way you are able to install all the extra things you need for your builds and for other automation. If a tool is not preinstalled on your stack of choice, you can install it yourself - see the guide.</p></div><p>After adding your app to Bitrise we will select an appropriate stack for it. You can change the stack at any time on the <span class="bold"><strong>Stacks &amp; Machines</strong></span> tab of the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-fc53715a-add5-8c4c-d4a6-9a04f5da6d3b.png" style="" alt="Available stacks"></img></div><p>After selecting the stack you want to use, you’ll see a short description of the stack with an additional link to learn more about that specific one (for example, to see what tools are preinstalled, and which versions, on the selected stack).</p><div class="table table-responsive" id="idp32782"><div class="table-title">Table 4. Stack status types</div><div class="table table-responsive-contents"><table class="table table-bordered"><thead><tr><th class="th"><p>Type</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p>Stable</p></td><td class="td"><p>Generally available and expected to be supported for the foreseeable future. Updated when an update for the stack’s primary tool is available. Example: when Xcode 7.3.1 was released, the Xcode 7.3 stack was updated to have 7.3.1 instead of 7.3(.0).</p></td></tr></tbody></table></div></div><br class="table table-responsive-break"></br><div class="table table-responsive" id="UUID-c880ed53-1621-1766-4c72-9010310f6227_table-idm4625632632659232693273769711"><div class="table-title">Table 5. Stack prepare types</div><div class="table table-responsive-contents"><table style="width:100%;" class="table table-bordered"><thead><tr><th class="th"><p>Type</p></th><th class="th"><p>Description</p></th></tr></thead><tbody><tr><td class="td"><p>Pre-booted</p></td><td class="td"><p>If a stack is available as pre-booted, and there’s enough pre-booted machines with that stack configuration, your build can start right away, without waiting for the build environment to boot. In case there’s no more available pre-booted machine with that stack configuration, your build will start on an on-demand configuration.</p></td></tr><tr><td class="td"><p>On-demand</p></td><td class="td"><p>If a stack is available as on-demand configuration and there’s no (available) pre-booted configuration for the stack, our system will have to create a virtual machine for your selected configuration when your build starts. This means that your build will be in preparing environment state while the related virtual machine is created &amp; booted. For a macOS configuration the boot process usually takes about 1 - 1.5 minutes. The prepare time (of course) is not counted into the build time, it won’t affect how long your build can run.</p></td></tr></tbody></table></div></div><br class="table table-responsive-break"></br><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-295ee35e-1f63-7adc-a05e-35490453f71b" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40"><div class="titlepage"><div><div class="title"><h5 class="title">Stack update policy</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Bitrise stacks are updated every week: some stacks are completely rebuilt while on others only certain cache archives are updated.</p></div></div></div></div><p>Bitrise stacks include the most important tools for mobile development pre-installed and ready for use. Our goal is to make Workflows simple and make your builds fast and efficient. These tools change continuously: old versions become deprecated and unsupported while new versions are released with new features and breaking changes.</p><p><em class="glossterm">Stacks</em> on <a class="link" href="https://www.bitrise.io" target="_blank" rel="noopener">bitrise.io</a> are updated regularly. The updates contain one or more of the following kinds of changes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Tool upgrade: An already installed tool is upgraded to the latest version (for example, the git CLI is upgraded from 2.9.1 to 2.9.5).</p></li><li class="listitem"><p>Tool addition: A new tool is added (for example, the latest Android emulator system image becomes preinstalled when a new Android version is released).</p></li><li class="listitem"><p>Tool removal: A tool version is removed if it reaches end-of-life and poses a security risk, making another version of the tool the default (for example, Ruby 2.7 is removed, making Ruby 3.0 the new default).</p></li><li class="listitem"><p>Dependency mirror updates: On Xcode stacks, the local caches of Homebrew and Cocoapods are updated with the latest snapshot.</p></li><li class="listitem"><p>Platform changes: Changes to major components, like Xcode on macOS stacks, OS versions, Android SDK.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Using the previous version of a stack</h3><p>Updating a stack to a new version might cause problems with some builds. To help ease the transition, you can use the previous version of a stack for 2-3 days after an update: <a class="xref linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-e7fd5cdc-3021-0f20-4ace-4504874d2c00" title="Using the previous version of a stack"><span class="xreftitle">Using the previous version of a stack</span></a>.</p></div><p>For more information on what tools are available on the different stacks, check out our relevant guide: <a class="xref linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-5c6d11d2-5bdc-1c4e-43e3-58c25f7122a9" title="Preinstalled tools on Bitrise stacks"><span class="xreftitle">Preinstalled tools on Bitrise stacks</span></a>.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-6e6a74f3-394e-e856-d023-91a605a7a7a4"><div class="titlepage"><div><div class="title"><h6 class="title">Xcode stack updates</h6></div></div></div><p>You can select macOS stacks based on the Xcode version you need. Under the hood, one VM image contains multiple Xcode versions installed and your requested Xcode version is activated at runtime before your Workflow starts.</p><p>As a rule of thumb, Xcode minor versions of the same major version share the same VM image, but there might be exceptions based on compatibility issues and other considerations.</p><div dir="ltr" class="note"><h3 class="title">Versioning</h3><p>When talking about versions, we use <a class="link" href="https://semver.org/" target="_blank" rel="noopener">semver</a> terminology, regardless of how the various tools define their versions.</p></div><p>Stacks have a lifecycle and have four different states: Edge, Stable, Frozen and Removed.</p><div class="mediaobject"><img src="image/uuid-faa7bf60-0cae-0042-f910-e8e6240fc647.png" style="" alt="stack-lifecycle.png"></img></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Edge</strong></span>: These stacks are for previewing upcoming versions and changes. They are updated in-place regularly, and they include the latest stable release of Xcode, the latest beta release of Xcode (if available), the latest stable version of pre-installed tools, and the dependency manager cache updates. Regular weekly updates could add or remove tools, as well as upgrade the OS. Backwards compatibility for weekly updates is not guaranteed on an Edge stack. Run builds on Edge stacks to preview upcoming tool version changes (such as Ruby 3.2 becoming the default) and get access to the latest pre-release Xcode (such as Xcode 15 Beta).</p></li><li class="listitem"><p><span class="bold"><strong>Stable</strong></span>: These stacks are only updated with Xcode patch versions, dependency manager cache updates and with critical security fixes. Note that one specific stack that is in a stable state (for example, Xcode 14.3) could still receive a major update when a new Edge stack is released (a hypothetical Xcode 14.4 Beta) and the tool versions on the current Edge stack become the new Stable. For maximum reliability and reproducible builds, we recommend pinning exact tool versions in Workflows instead of relying on the stack defaults (for example, pinning a Ruby version).</p></li><li class="listitem"><p><span class="bold"><strong>Frozen</strong></span>: These stacks are no longer updated and flagged for removal in accordance with the <a class="link linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-9a682973-8466-57ef-a98a-946b2799e616" title="Stack deprecation and removal policy">Stack deprecation and removal policy</a>. The stack is still available for yourbuilds but you will see the final removal date on the UI. Preinstalled tools are not updated, so it’s your responsibility to keep up with bugfixes and security patches.</p></li><li class="listitem"><p><span class="bold"><strong>Removed</strong></span>: These stacks are no longer available to use.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Dependency manager cache updates</h3><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><a class="link" href="http://brew.sh" target="_blank" rel="noopener">Homebrew</a> and <a class="link" href="https://cocoapods.org/" target="_blank" rel="noopener">CocoaPods</a> dependency mirrors are updated frequently (usually each week) on all Xcode stacks.</p></li><li class="listitem"><p>These mirror updates do not change the preinstalled tool versions, only updating the package manager caches for faster dependency installs.</p></li><li class="listitem"><p>Edge stacks also receive package upgrades, meaning that Homebrew packages are updated to their latest versions.</p></li></ul></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-47333f44-6d2e-e96d-a16d-97024d364372"><div class="titlepage"><div><div class="title"><h6 class="title">State transitions for Xcode stacks</h6></div></div></div><p>During the lifecycle of a stack it will transition between states when triggered by new Xcode and macOS releases. Stacks transition as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Edge to Stable.</p></li><li class="listitem"><p>Stable to Frozen.</p></li><li class="listitem"><p>Frozen to Removed.</p></li></ul></div><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_section-idm33419843274790"><div class="titlepage"><div><div class="title"><h6 class="title">Edge stack updates</h6></div></div></div><p>Edge stacks provide a way to preview and test upcoming changes. Xcode Beta versions become available as Edge stacks while final Xcode releases become available as new Stable stacks. Xcode Edge stacks change when:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The first Beta version of a new major Xcode version is released.</p></li><li class="listitem"><p>The first Beta version of a new minor Xcode version is released.</p></li><li class="listitem"><p>A new version of an Xcode Beta version is released.</p></li></ol></div><p>When an Xcode minor version is released as a beta, it becomes available as an Edge stack. Other Edge stacks do not transition to Stable until the beta version in question is released as a GA version.</p><div class="example" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_example-idm344457962572298"><div class="example-title">Example 4. First Beta version of a new major Xcode version</div><div class="example-contents"><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The current latest Xcode version is 15.3.</p></li><li class="listitem"><p>A new Beta version of a new major Xcode version is released: Xcode 16.0 Beta 1.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-1aecaab6-06d6-4a03-4d67-f6e4e5efaf7e.png" style="" alt="stack-updates-edge.png"></img></div><p>Once the new Beta version is released, we update our stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The new Xcode release becomes available on Bitrise as an Edge stack. In our example, Xcode 16.0 Beta 1 becomes available as the Edge stack.</p></li><li class="listitem"><p>Current Edge stacks are phased out, and users are automatically migrated to the new Edge stack. This happens a few days after the new Xcode release. In this example, this means phasing out Xcode 15.x Edge stacks.</p></li><li class="listitem"><p>Stable stacks are not affected at this point.</p></li></ul></div></div></div><br class="example-break"></br><div class="example" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_example-idm3104305219881158"><div class="example-title">Example 5. First Beta version of a new minor Xcode version</div><div class="example-contents"><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The current latest Xcode version is 15.2.</p></li><li class="listitem"><p>A new Beta version of a new minor Xcode version is released: Xcode 15.3 Beta 1.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-1045ef58-753d-f496-2c8a-4e4c9542ad63.png" style="" alt="stack-updates-edge-minor.png"></img></div><p>Once the new Beta version is released, we update our stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The new Xcode release becomes available as an Edge stack. In this example, Xcode 15.3 Beta 1 becomes available as an Edge stack.</p></li><li class="listitem"><p>Stable stacks are not affected at this point.</p></li></ul></div></div></div><br class="example-break"></br><div class="example" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_example-idm3155602869003038"><div class="example-title">Example 6. A new Beta version of an Xcode Beta version</div><div class="example-contents"><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The current latest Xcode version is 16.0 Beta 1.</p></li><li class="listitem"><p>A new Beta version is released: 16.0 Beta 2.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-f91e8132-cff5-b5c3-142e-2184b4883382.png" style="" alt="stack-updates-edge-beta.png"></img></div><p>Once the new Beta version is released, we update our stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Xcode 16.0 Beta 2 replaces 16.0 Beta 1 on the Xcode 16.0 Edge stack.</p></li><li class="listitem"><p>Stable stacks are not affected at this point.</p></li></ul></div></div></div><br class="example-break"></br></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_section-idm4538314896835233748774531328"><div class="titlepage"><div><div class="title"><h6 class="title">Stable stack updates</h6></div></div></div><p>Stable stacks change less often than Edge stacks as we want to avoid unexpected breaking changes on these stacks.</p><p>Existing Stable stacks change when:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>A new major Xcode version is released.</p></li><li class="listitem"><p>A new minor Xcode version is released.</p></li></ol></div><div class="example" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_example-idm4538314982636833748784391586"><div class="example-title">Example 7. A new major Xcode version</div><div class="example-contents"><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The current latest Xcode version is 15.3.0.</p></li><li class="listitem"><p>A new major Xcode version is released: Xcode 16.0.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-0d392a7d-4fcd-13cb-e67a-7326e954c87a.png" style="" alt="stack-updates-stable-major.png"></img></div><p>When the new major version is released, we update our stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>New Stable stack: Xcode 16.0 becomes available on Bitrise as a new Stable stack.</p></li><li class="listitem"><p>Existing Stable stacks: new tool versions and other potentially breaking changes land on all Stable stacks.</p></li><li class="listitem"><p>Oldest Stable stacks become Frozen. In this example, Xcode 14.x stacks become Frozen, but still available for building. Tool versions are not changing on these stacks: their latest state is frozen.</p></li><li class="listitem"><p>Old Frozen stacks are removed: in this example, Xcode 13.x stacks are removed. The remaining users are migrated to newer stacks.</p></li></ul></div><div dir="ltr" class="note"><h3 class="title">Changes to previous Stable stacks</h3><p>We update previous Stable stacks when a new Xcode version is released for a number of reasons:</p><p>Most preinstalled runtimes and tools eventually reach their end-of-life according to support policy, after which they no longer receive bugfixes and security patches. We also need to periodically upgrade the default version of tools if the majority of our users move on to a newer version. There are also some breaking changes we need to make to enable new features and user requests.</p><p>While breaking changes are frustrating, we think that doing them only once a year on a predictable schedule (tied to the major Xcode release) is a good compromise. We are also trying to make the switch smoother by:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>Offering Edge stacks to preview the changes. While one Edge stack is always tied to the latest Xcode Beta, we also offer Edge stacks for the last few stable Xcodes, so you can try the tooling changes without doing an Xcode upgrade in your project.</p></li><li class="listitem"><p>Communicating the changes in advance on all usual communication channels. For example, <a class="link" href="https://bitrise.io/blog/post/xcode-15-is-coming-with-major-stack-updates" target="_blank" rel="noopener">in a blog post</a>.</p></li><li class="listitem"><p>Offering a temporary rollback option after each <a class="link linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-152fa912-5d81-fe75-cb86-03f12bd50f40" title="Stack update policy">stack update</a>.</p></li></ul></div></div></div></div><br class="example-break"></br><div class="example" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_example-idm4549071040308833748789981715"><div class="example-title">Example 8. A new minor Xcode version</div><div class="example-contents"><p>In this example:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The current latest Xcode version is Xcode 15.2.</p></li><li class="listitem"><p>A new minor Xcode version is released: Xcode 15.3.</p></li></ul></div><p>When the new minor version is released, we update our stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>New Stable stack: Xcode 15.3 becomes available on Bitrise as a Stable stack.</p></li><li class="listitem"><p>Xcode 15.3 Edge stack is updated with the final Xcode version.</p></li></ul></div><div class="mediaobject"><img src="image/uuid-166098b3-ad6e-d65e-fe83-e0819fcf52a3.png" style="" alt="stack-updates-stable-xcode-minor.png"></img></div></div></div><br class="example-break"></br></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_section-idm4577530673444833748810917375"><div class="titlepage"><div><div class="title"><h6 class="title">macOS releases</h6></div></div></div><p>The exact macOS version is always highlighted on the <a class="link" href="https://stacks.bitrise.io/stack_reports/" target="_blank" rel="noopener">stack report pages</a>.</p><p>When a new major macOS version is released, we upgrade the Edge stacks to the new OS after an internal testing period.</p><p>As a general rule, we don’t upgrade macOS on Stable stacks to avoid unexpected build failures. We wait until a future Xcode release starts requiring the new OS version (for example, Xcode 15.0, 15.1 and 15.2 are compatible with macOS Ventura, but 15.3 requires Sonoma). Once this happens, the Stable stack variant of this Xcode version is based on the new major OS version, while older Stable Xcode stacks remain on the older OS version.</p><p>While the new major OS is not available as a Stable stack, we recommend testing it on one of the Edge stacks. We are looking for your feedback, including edge cases and performance regressions.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_section-idm4577531424347233748814461386"><div class="titlepage"><div><div class="title"><h6 class="title">Events not triggering a state transition</h6></div></div></div><p>Not all Xcode releases trigger a transition. For example, Xcode beta minor version releases do not trigger an Edge to Stable stack transition: the new beta version simply replaces the old one. Xcode patch releases do not trigger an Edge to Stable stack transition. Instead, the Stable stacks will be updated in place with the new patch version.</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-35d9f2b2-c95d-393a-5941-bf38b7719907"><div class="titlepage"><div><div class="title"><h6 class="title">Simulator runtimes on Xcode stacks</h6></div></div></div><p>You can find the list of preinstalled tools, including simulator runtimes on our stacks on the <a class="link" href="https://stacks.bitrise.io/stack_reports/" target="_blank" rel="noopener">stack reports pages</a>.</p><p>You can expect the following simulator runtimes to be installed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The matching runtime versions of a given Xcode version: these are the iOS, watchOS, tvOS and visionOS runtime versions that Xcode prompts you to download at first launch.</p></li><li class="listitem"><p>For iOS, we also install two additional versions: the two previous major versions, of which the latest minor version is installed.</p></li><li class="listitem"><p>For watchOS, we also install the previous major release’s latest minor version.</p></li></ul></div><p>For example, when selecting the Xcode 15.0 stack, you can expect:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>iOS 17.0: the matching runtime of this Xcode.</p></li><li class="listitem"><p>iOS 16.4: the latest minor release of the previous major iOS version.</p></li><li class="listitem"><p>iOS 15.5: the latest minor release of the second-previous major iOS version.</p></li><li class="listitem"><p>watchOS 10.0: the matching runtime of this Xcode.</p></li><li class="listitem"><p>watchOS 9.4: the latest minor release of the previous major version.</p></li><li class="listitem"><p>tvOS 17.0: the matching runtime of this Xcode.</p></li><li class="listitem"><p>visionOS 1.0: the matching runtime of this Xcode</p></li></ul></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-c59a4341-d03f-46e0-abe8-dfd6179f0c98"><div class="titlepage"><div><div class="title"><h6 class="title">Linux stack updates</h6></div></div></div><p>Linux stacks on Bitrise are based on <a class="link" href="https://endoflife.date/ubuntu" target="_blank" rel="noopener">Ubuntu LTS releases</a>. Each Bitrise stack is based on one Ubuntu LTS version and never gets upgraded to another. Instead, we release new stacks and sunset older ones over time.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-e7fd5cdc-3021-0f20-4ace-4504874d2c00"><div class="titlepage"><div><div class="title"><h6 class="title">Using the previous version of a stack</h6></div></div></div><div dir="ltr" class="important"><h3 class="title">Not available on dedicated build environments</h3><p>This feature is not available on an Enterprise plan with a dedicated build environment, because the user controls the rollout of stack updates on these plans.</p></div><p>We regularly update the Bitrise stacks based on user requests and external tooling changes. These updates can potentially introduce breaking changes, despite our efforts to avoid those.</p><p>For those cases, we provide a temporary option to use the previous version of a given stack for a few days after the release of a new version.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>This is meant to be a temporary mechanism only. Because of infrastructure reasons, we can't keep the previous release available forever. Usually, the previous version is removed a few days after a successful release.</p></li><li class="listitem"><p>Once the previous version becomes unavailable, new builds run on the latest version even if this feature is enabled.</p></li><li class="listitem"><p>If a previous version is not available for a given stack at a given time, the switch is inactive and the feature can't be turned on. Any build triggered will run on the current version of the stack.</p></li></ul></div><p>To use the previous version of your stack:</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_procedure-idm4654620118264034110203024315"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:75%;
                            "><tr><td style="padding:0;"><img src="image/uuid-99bb894c-3e79-91c8-9e62-7e475573495d.png" style="width: 100%; " alt="opening-workflow-editor.png"></img></td></tr></table></div></li><li class="step"><p>On the Workflows &amp; Pipelines pages, you can:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Click the <span class="guibutton">Edit bitrise.yml</span> button to get to the <span class="guilabel">bitrise.yml</span> tab of the Workflow Editor.</p></li><li class="listitem"><p>Select a Workflow from the list of the app's Workflows.</p></li></ul></div></li><li class="step"><p>Go to the <span class="guilabel">Stacks &amp; Machines</span> tab.</p></li><li class="step"><p>Find the stack you want to configure: either the default stack or one of the Workflow-specific stacks.</p></li><li class="step"><p>Under the machine type for the chosen stack, toggle the <span class="guilabel">Use previous version</span> switch.</p><p>This modifies the <code class="filename">bitrise.yml</code> file: it adds the previous version of the stack to the <code class="code">meta</code> block.</p><div class="mediaobject"><img src="image/uuid-eefe9d3d-ab41-f2c3-9657-97994dab1f73.png" style="" alt="prev-vers.png"></img></div></li></ol></div><div class="procedure tab-content" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_procedure-idm4496789364988834110264491465"><p><a class="link linktype-component" href="UUID-3daa70a4-ac48-5727-e5fa-34d46303ecef.html#UUID-babdfcf9-c70a-1513-e12e-046beb9f879c_UUID-f18689c6-db62-6c36-6c27-5e43b8617b57" title="Storing the bitrise.yml file in your repository">If you store the <code class="filename">bitrise.yml</code> file in your own repository</a>, you need to specify the exact rollback version in a <code class="code">meta</code> object. You cannot use the toggle in the Workflow Editor to turn the feature on because the toggle can only modify a configuration file stored on Bitrise: we cannot edit the <code class="filename">bitrise.yml</code> in your repository.</p><div dir="ltr" class="note"><h3 class="title">Unavailable versions</h3><p>If the specified version is not available, the Workflow Editor will display a warning. Any build triggered after a previous stack version <a class="link linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-9a682973-8466-57ef-a98a-946b2799e616" title="Stack deprecation and removal policy">becomes unavailable</a> will run on the current stable version of the stack.</p></div><ol class="procedure tab-content" type="1"><li class="step"><p class="tab-content">Find the <code class="code">meta</code> block in your <code class="filename">bitrise.yml</code> file.</p></li><li class="step"><p>Add a <code class="code">stack_rollback_version</code> field with the given version string.</p><div dir="ltr" class="tip"><h3 class="title">Finding out the previous version number</h3><p>To find out the previous version string, open an older build, switch to the <span class="guilabel">Details &amp; Add-ons</span> tab, and look for the <span class="guilabel">Stack image version</span> field.</p></div><pre class="programlisting">meta:
  stack: osx-xcode-15.0.x
  machine_type_id: g2-m1.8core
  stack_rollback_version: 2-16-2</pre></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-152fa912-5d81-fe75-cb86-03f12bd50f40_UUID-193d553e-4ee0-2176-d46c-dd156d745f9a"><div class="titlepage"><div><div class="title"><h6 class="title">Changelog</h6></div></div></div><div dir="ltr" class="refsect1" id="idp33130"><h2>March 2024</h2><p><span class="bold"><strong>New</strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Define what happens when an Edge stack is phased out in favor of a newer edge stack.</p></li></ul></div><p><span class="bold"><strong>Removed</strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>When a new Xcode Edge stack is released, it no longer brings tooling changes to the Stable stacks.</p></li></ul></div><p><span class="bold"><strong>Changed</strong></span>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>New, simpler simulator runtime policy. The same number of older iOS major versions are installed, but only the latest minor version is installed for each.</p></li></ul></div></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-5bac20c1-ade5-dca6-25f5-f54fc5ce7425" data-publication-date="" id="UUID-9a682973-8466-57ef-a98a-946b2799e616"><div class="titlepage"><div><div class="title"><h5 class="title">Stack deprecation and removal policy</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>On Bitrise, Android stacks are supported for around two years; Xcode stacks are deprecated gradually as new Xcode versions are released.</p></div></div></div></div><p>We don't keep all <em class="glossterm">stacks</em> around forever: our aim is to provide you with the latest tools to help you build the best <em class="glossterm">app</em> you can. However, we don't expect you to rework your build configuration every time a stack update comes out: you can keep using your reliable older stacks for a long time.</p><p>Some older stacks are frozen when a new major version of Xcode is released. When a stack is frozen, you can still keep using it, but the stack will no longer get any updates, and at that point, we strongly recommend switching to a newer, active stack.</p><p>After stacks have been frozen for a year, they are removed when the next major version of Xcode is released.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-9a682973-8466-57ef-a98a-946b2799e616_UUID-23e94c31-5fac-39f7-a73b-ca913b1bcaa8"><div class="titlepage"><div><div class="title"><h6 class="title">Maintaining Xcode stacks</h6></div></div></div><p>We offer a wide variety of Xcode stacks in order to make sure you do not need to immediately switch when a new version comes out. Our policy is as follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Keep the three most recent major versions of Xcode.</p></li><li class="listitem"><p>Keep the two most recent minor versions for each major version of Xcode.</p></li></ul></div><p>We base our policy on Apple's current release cadence: first beta in June, general availability in September.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The life cycle of a major Xcode version on our stacks is 36 months.</p></li><li class="listitem"><p>For 24 months, the stack is active and maintained according to our stack update policy.</p></li><li class="listitem"><p>After 24 months, the stack becomes frozen for 12 months and it will no longer receive updates. At this point, we strongly recommend migrating to an active stack.</p></li><li class="listitem"><p>After the end of the 36th month, the stacks of the major Xcode version are removed.</p></li></ol></div><div class="example" id="UUID-9a682973-8466-57ef-a98a-946b2799e616_example-idm4605888582865632694239373772"><div class="example-title">Example 9. Maintaining Xcode stacks</div><div class="example-contents"><p>When Xcode version 15.2.x is released, we will keep:</p><p>All the latest patch releases for the two most recent minor versions of Xcode 15:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>15.2</p></li><li class="listitem"><p>15.1</p></li></ul></div><p>Xcode 15.0 will be removed.</p><p>The two latest versions from the previous two Xcode major versions:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Xcode 14.3</p></li><li class="listitem"><p>Xcode 14.2</p></li><li class="listitem"><p>Xcode 13.4 (frozen)</p></li><li class="listitem"><p>Xcode 13.3 (frozen)</p></li></ul></div></div></div><br class="example-break"></br><p>In all cases, there will be a minimum of four weeks' notice provided for the removal of these stacks. You can see all upcoming stack deprecations <a class="link" href="https://stacks.bitrise.io/announcements/upcoming-stack-deprecations/" target="_blank" rel="noopener">on this page</a>. We also recommend subscribing to <a class="link" href="https://stacks.bitrise.io/tips/get-notified/" target="_blank" rel="noopener">RSS updates</a> of important announcements about stacks.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-9a682973-8466-57ef-a98a-946b2799e616_UUID-4a6b6f53-2b3b-2469-73ec-cab86ebf7d70"><div class="titlepage"><div><div class="title"><h6 class="title">Deprecating Linux stacks</h6></div></div></div><p>A Linux stack is supported for about two years, roughly in sync with <a class="link" href="https://endoflife.date/ubuntu" target="_blank" rel="noopener">Ubuntu LTS (long term support)</a> releases.</p><p>When a previous Linux stack reaches end of maintenance, we deprecate the stack and earmark it for removal. At that point you can no longer select the stack for your apps. But the apps that are already using those stacks can keep using them until removal.</p><p>In all cases, there will be a minimum of four weeks' notice provided for the removal of these stacks. You can see all upcoming stack deprecations <a class="link" href="https://stacks.bitrise.io/announcements/upcoming-stack-deprecations/" target="_blank" rel="noopener">on this page</a>. We also recommend subscribing to <a class="link" href="https://stacks.bitrise.io/tips/get-notified/" target="_blank" rel="noopener">RSS updates</a> of important announcements about stacks.</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-47c3c221-c9f4-7940-ef48-5ede8f6c626d" data-publication-date="" id="UUID-5c6d11d2-5bdc-1c4e-43e3-58c25f7122a9"><div class="titlepage"><div><div class="title"><h5 class="title">Preinstalled tools on Bitrise stacks</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Every Bitrise stack comes up with a large number of preinstalled tools and applications. Check the list in the system reports repository.</p></div></div></div></div><p>Every Bitrise <em class="glossterm">stack</em> comes up with a large number of preinstalled tools and applications to make sure the build process of your <em class="glossterm">apps</em> is as smooth and fast as possible.</p><p>Every time we create or update a stack we publish a stack report for it as well. The stack reports include the list of preinstalled tools and their version on the stack.</p><p>We update stacks regularly: macOS and Linux stacks <a class="link linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-152fa912-5d81-fe75-cb86-03f12bd50f40" title="Stack update policy">are updated regularly to provide the latest installed tool versions</a>.</p><p>You can find every available stack’s stack report on our dedicated page: <a class="link" href="https://stacks.bitrise.io/stack_reports/" target="_blank" rel="noopener">Bitrise stack reports</a>.</p><div dir="ltr" class="note"><h3 class="title">Installing tools during a build</h3><p>If you can't find a tool you need on the build machine, you can always install it during the build itself: <a class="xref linktype-component" href="UUID-4b5b1437-c4e5-7367-e994-b5738e643e14.html" title="Installing tools during a build"><span class="xreftitle">Installing tools during a build</span></a>.</p><p>You can find some concrete examples in our Knowledge Base:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><a class="link" href="https://support.bitrise.io/hc/en-us/articles/360017278218" target="_blank" rel="noopener">Installing a specific fastlane version</a></p></li><li class="listitem"><p><a class="link" href="https://support.bitrise.io/hc/en-us/articles/360017174697" target="_blank" rel="noopener">Installing a specific npm version</a></p></li></ul></div></div></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-1a40baf9-7721-2b86-6115-0d13327bd3a4" data-publication-date="" id="UUID-84990961-9960-b41e-cb22-60f9b5c0aabc"><div class="titlepage"><div><div class="title"><h5 class="title">The Android/Linux/Docker environment</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Bitrise's Android stacks run on Linux-based virtual machines that are created from Docker images. You can find all the image files on GitHub.</p></div></div></div></div><p>For our Linux-based stacks, we use standard Docker images, hosted on <a class="link" href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a>. You can find the available stacks, called <span class="bold"><strong>Ubuntu for Android &amp; Docker</strong></span>, in our <a class="link" href="https://stacks.bitrise.io/stack_reports/" target="_blank" rel="noopener">stack reports</a>.</p><div dir="ltr" class="note"><h3 class="title">Pre-installed tools</h3><p>All stacks have a large number of pre-installed tools available: <a class="xref linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-5c6d11d2-5bdc-1c4e-43e3-58c25f7122a9" title="Preinstalled tools on Bitrise stacks"><span class="xreftitle">Preinstalled tools on Bitrise stacks</span></a></p></div><p>Every build runs in a new VM, not just in a new container. The VM is destroyed right after the build. This allows us to grant you full control over <code class="code">Docker</code> and the whole environment.</p><p>When your build starts on a Docker-based stack, we volume mount the <code class="code">/var/run/docker.sock</code> socket into your container (similar to calling <code class="code">docker run -v /var/run/docker.sock:/var/run/docker.sock ...</code>. You can find a description about this access granting method <a class="link" href="https://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/" target="_blank" rel="noopener">here</a>).</p><p>The <code class="code">docker</code> binary has to be installed inside the base Docker image because docker started to migrate from a single-binary solution to dynamically loaded components, and simply sharing the <code class="code">docker</code> binary is not sufficient anymore.</p><p>We install Docker in every one of our Docker images so that you don’t have to do anything if you use our image, or you base your own image on our Docker images.</p><p>This means that you have access to <code class="code">docker</code> in your container, and can use other tools which use docker, like <a class="link" href="https://docs.docker.com/compose" target="_blank" rel="noopener">docker-compose</a>. You can, for example, configure and run tests and other automations on website projects using <code class="code">docker-compose</code>.</p><p>You can call <code class="code">docker info</code>, <code class="code">docker build</code>, <code class="code">docker run</code>, <code class="code">docker login</code>, <code class="code">docker push</code> exactly how you would on your own machine.</p><div dir="ltr" class="note"><h3 class="title">Shared volumes</h3><p>If you want to run <code class="code">docker</code> in your build and share volumes, please note that only those volumes can be shared that are shared with the base docker container (the one your build is running in). This is due to how <code class="code">docker</code> handles volume sharing. Everything under <code class="code">/bitrise</code> can be mounted as a volume, but no other path is guaranteed to work with <code class="code">--volume</code> mapping.</p><p>It means that if you use the standard paths and you use relative paths to mount volumes, it’ll work as expected, as the default source code directory is located inside <code class="code">/bitrise</code> (by default it’s <code class="code">/bitrise/src</code> in our Docker images).</p><p>What WON’T WORK, however, is if you change the source code directory to be located outside of <code class="code">/bitrise</code>, or you want to mount a folder with an absolute path outside of <code class="code">/bitrise</code>.</p></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-0272d2fc-5d56-7f2c-e4c3-9da55fb22c8d" data-publication-date="" id="UUID-aa6c9928-a8b4-45c7-2cc5-52c6b99567ca"><div class="titlepage"><div><div class="title"><h5 class="title">Managing Java versions</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>All Bitrise virtual machines have Java 8, Java 11, and Java 17 pre-installed. The default version is Java 17 but you can switch versions at any time.</p></div></div></div></div><p>By default, every Bitrise <em class="glossterm">stack</em> comes with Java 11 pre-installed and ready to use. If you do not switch to another version, your build will use Java 11.</p><p>In addition to 11, we have two more Java versions pre-installed on all stacks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Java 8</p></li><li class="listitem"><p>Java 17</p></li></ul></div><p>You can switch between the versions at any time. You can also install a different Java version (for example, 14).</p><div dir="ltr" class="note"><h3 class="title">Potential issues with Java versions</h3><p>Using a new Java version, or switching Java versions during a build might cause unexpected issues:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><a class="link" href="https://support.bitrise.io/hc/en-us/articles/360020872998" target="_blank" rel="noopener">JAVA_HOME isn't set correctly after switching to Java 11 on macOS-based stacks</a></p></li><li class="listitem"><p><a class="link" href="https://support.bitrise.io/hc/en-us/articles/360017059718" target="_blank" rel="noopener">Using Android SDK tools with Java 11</a></p></li><li class="listitem"><p><a class="link" href="https://support.bitrise.io/hc/en-us/articles/4464433153565" target="_blank" rel="noopener">java.lang.ClassNotFoundException</a></p></li></ul></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aa6c9928-a8b4-45c7-2cc5-52c6b99567ca_UUID-badb376b-bd4e-3edf-be7e-4f827a7822bc"><div class="titlepage"><div><div class="title"><h6 class="title">Setting Java version with the Set Java version Step</h6></div></div></div><p>Each Bitrise stack has three different Java versions pre-installed: 8, 11 (the default version), and 17. You can easily switch between the different Java versions with our <a class="link" href="https://www.bitrise.io/integrations/steps/set-java-version" target="_blank" rel="noopener"><span class="bold"><strong>Set Java version</strong></span> Step</a>. The <em class="glossterm">Step</em> allows you to set the global Java version of the virtual machine that runs your build.</p><div dir="ltr" class="note"><h3 class="title">Installing a new Java version</h3><p>This Step cannot install any Java version. It can only switch between the versions that are pre-installed on our stacks. If you want to install a Java version that is not available on our stacks by default, check out <a class="xref linktype-component" href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html#UUID-aa6c9928-a8b4-45c7-2cc5-52c6b99567ca_UUID-d57c0d6d-9372-a962-d727-92ddb61db2c2" title="Installing a Java version on an Android stack"><span class="xreftitle">Installing a Java version on an Android stack</span></a>.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Add the <span class="bold"><strong>Set Java version</strong></span> Step to your <em class="glossterm">Workflow</em>. We recommend setting it as the first Step of the Workflow.</p></li><li class="step"><p>Find the <span class="bold"><strong>Java version to be set globally for the build</strong></span> input.</p></li><li class="step"><p>Set it to the version you need.</p><p>The options are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>8</p></li><li class="listitem"><p>11 (the default value)</p></li><li class="listitem"><p>17</p></li></ul></div></li></ol></div><div class="example" id="UUID-aa6c9928-a8b4-45c7-2cc5-52c6b99567ca_example-idm4604629581350433530681614895"><div class="example-title">Example 10. YAML example</div><div class="example-contents"><p>In this example, we're setting the Java version to 17 in the <code class="filename">bitrise.yml</code> file.</p><pre class="programlisting">primary:
  steps:
  - set-java-version@1:
      inputs:
      - set_java_version: '17'</pre></div></div><br class="example-break"></br></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-aa6c9928-a8b4-45c7-2cc5-52c6b99567ca_UUID-d57c0d6d-9372-a962-d727-92ddb61db2c2"><div class="titlepage"><div><div class="title"><h6 class="title">Installing a Java version on an Android stack</h6></div></div></div><p>If you need a Java or JDK version which is not installed on our Android stacks, follow this guide. The example below will install Java/JDK 1.14 with a <span class="bold"><strong>Script</strong></span> Step. You can adapt it to the version of your choice.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p></li><li class="step"><p>On the <span class="guilabel">Workflows &amp; Pipelines</span> page, find the Workflow you need and click into its row to open the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-f45ed80f-ecee-e685-1582-5cee628d12ec.png" style="" alt="workflow-and-pipelines.png"></img></div></li><li class="step"><p>Add the <span class="bold"><strong>Script</strong></span> Step to your Workflow.</p></li><li class="step"><p>In the <span class="guilabel">Script content</span> input of the Step, add your script:</p><p>The example below installs Java 14 but feel free to replace the <code class="code">openjdk-14-jdk</code> and <code class="code">java-1.14.0-openjdk-amd64</code> parts with your version of choice.</p><pre class="programlisting">#!/bin/bash
set -ex
   
add-apt-repository -y ppa:openjdk-r/ppa
apt-get update -qq
apt-get install -y openjdk-14-jdk
update-java-alternatives -s /usr/lib/jvm/java-1.14.0-openjdk-amd64
echo "done"    </pre></li><li class="step"><p>Start a new build. This <span class="bold"><strong>Script</strong></span> Step can be the very first Step in the Workflow, as it does not depend on anything else.</p></li></ol></div></section></section></section><div class="footer-content"><div class="additional-links"></div></div><footer></footer></div></div></div></div></div></div></body></html>
