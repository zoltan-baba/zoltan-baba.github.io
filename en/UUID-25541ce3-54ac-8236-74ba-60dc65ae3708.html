<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="default"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="no"></meta><script xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" type="text/javascript">
			var index;
			var contentLanguage = 'en';
			var enterKey = 'select';
			
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
			var useanchorlinks = false;
			</script><title>Android deployment</title><link rel="stylesheet" type="text/css" href="../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"></link><link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css"></link><link rel="stylesheet" type="text/css" href="../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../css/style.css"></link><link rel="stylesheet" type="text/css" href="../css/style-responsive.css"></link><script src="../js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script><script src="../js/materialize.min.js" type="text/javascript"></script><script src="../js/bootstrap.min.js" type="text/javascript"></script><script src="../js/purl.js" type="text/javascript"></script><script src="../js/jquery.event.move.js" type="text/javascript"></script><script src="../js/jquery.event.swipe.js" type="text/javascript"></script><script src="../js/jquery.sticky.js" type="text/javascript"></script><script src="../js/respond.min.js" type="text/javascript"></script><script src="../js/script.js" type="text/javascript"></script><script src="../js/clipboard.min.js" type="text/javascript"></script><script src="../js/lunr.js" type="text/javascript"></script><script src="../js/jquery.mark.min.js" type="text/javascript"></script><script src="js/data.js" type="text/javascript"></script><script src="../js/search.js" type="text/javascript"></script><script src="../js/csh.js" type="text/javascript"></script><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:util="http://www.paligo.net/xsl1/functions/utility" name="generator" content="Paligo"></meta><meta name="description" content="Deploy Android apps to either bitrise.io, for testing, or to the Google Play Store, for release."></meta><link rel="prev" href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736" title="Deploying iOS apps"></link><link rel="next" href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html" title="iOS deployment"></link><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../js/cookie-consent.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css"></link><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script></head><body xmlns:php="http://php.net/xsl" data-link-prefix=""><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><div id="page" class="clearfix"><div id="header"><div class="container"><div id="logotype-container" class="pull-left"><a href="../index.html"><img id="logotype-pageheader" src="../css/image/corporate-logo.png" alt="Corporate logotype" data-role="logotype"></img></a></div><div id="pagetools-container" class="pull-right"><ul id="page-tools"><li class="page-tools-search"><input placeholder="Search" type="text" class="form-control" aria-label="Search" id="search"></input></li><li class="page-tools-print"><a href="javascript:window.print();"><span class="tool-label">Print</span><span class="glyphicon glyphicon-print"></span></a></li></ul></div></div></div><h1 id="publication-title">Parent publication</h1><div id="subheader-sticky-wrapper" class="sticky-wrapper"><div id="subheader"><div class="container"><div class="row"><div class="col-md-3 toc-title"><h2><a class="prev nav-icon hidden-lg hidden-md" href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736"><span class="glyphicon glyphicon-chevron-left"></span> </a><a href="#toc" class="hidden mobile-nav-toggle"><span class="glyphicon glyphicon-list"></span>Table of Contents</a><span class="toc-label">Table of Contents</span><a class="next nav-icon hidden-lg hidden-md" href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html"><span class="glyphicon glyphicon-chevron-right"></span> </a></h2></div><div class="col-md-9 breadcrumb-container"><ul xmlns:util="http://www.paligo.net/xsl1/functions/utility" class="breadcrumb"><li class="breadcrumb-link"><span class="glyphicon glyphicon-home"></span> <span class="current-category">Parent publication</span></li><li class="breadcrumb-link"><a>Welcome to Bitrise documentation!</a></li><li class="breadcrumb-link"><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html">Deploying</a></li><li class="breadcrumb-node">Android deployment</li></ul></div></div></div></div></div><div id="main-content"><div class="container"><div class="row"><div class="col-md-3 toc-container" id="toc-wrapper"><div id="toc-placeholder"><ul class="toc"><li><a href="UUID-6417de03-03ef-7c79-83a0-26f08db51f10.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Welcome to Bitrise documentation!</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-000c8bad-6d7f-0d5d-b401-26d496fba183" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-45c98b6e-ff48-e720-c001-f3959ff58028" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-15a4b450-3823-111b-a88a-98f66ef246cc" class="topic-link">Adding a new app</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-ddaf0b44-cc2e-e0da-0268-aaa5e0a10ba6" class="topic-link">Webhooks and triggers</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-efd02dd1-4217-aaf4-87c0-debd71494d1c" class="topic-link">Builds and Workflows</a></li><li><a href="UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a.html#UUID-696bdecc-038a-8894-3bf2-78c9dd4e1e1a_UUID-b4be56a8-29cb-9a91-da5a-2221b0e200ed" class="topic-link">Testing and deploying</a></li><li><a href="UUID-8879f258-0558-f6ee-98e5-5a2506d82df9.html" class="topic-link">Migrating to Bitrise</a></li><li><a href="UUID-9dc60577-d179-a769-7d72-d59b459e13d1.html" class="topic-link">Signing up for Bitrise</a></li><li><a href="UUID-d2dc0473-cf38-63d8-804f-9ea086df9756.html" class="topic-link">Creating your first Workspace</a></li><li><a href="UUID-bb7c5561-43c7-fce8-d0d1-5b426246c350.html" class="topic-link">Adding a new app</a></li><li><a href="UUID-81a6851f-9012-17b1-188b-167cce87cfb9.html" class="topic-link">Getting started with iOS apps</a></li><li><a href="UUID-a4a3c266-19bb-8741-cd56-40fee645d58b.html" class="topic-link">Getting started with Android apps</a></li><li><a href="UUID-4d21f88e-bcef-8665-7827-4ae0f68faeb2.html" class="topic-link">Getting started with React Native apps</a></li><li><a href="UUID-40b0a17c-5aa4-821c-9d80-17003cdf6c1c.html" class="topic-link">Getting started with Flutter apps</a></li><li><a href="UUID-9872034d-c75b-ac41-77c9-2be96702439c.html" class="topic-link">Getting started with Ionic/Cordova apps</a></li><li><a href="UUID-d27d764d-2fde-f7ac-4720-1d02853a67aa.html" class="topic-link">Getting started with Expo apps</a></li></ul></li><li><a href="UUID-520baf25-3180-0ceb-91b5-1e0da25382d0.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Infrastructure</a><ul><li><a href="UUID-9ab7b667-21c5-3904-5a90-5f86a5244657.html" class="topic-link">Build machines</a></li><li><a href="UUID-c880ed53-1621-1766-4c72-9010310f6227.html" class="topic-link">Build stacks</a></li><li><a href="UUID-ad66469f-0b08-1ea7-3d1b-1f4d52a7c106.html" class="topic-link">Code security</a></li><li><a href="UUID-49f916c8-22af-0ba9-036c-e9ebc6ea84a9.html" class="topic-link">Customizable enterprise build platforms</a></li><li><a href="UUID-328bfe61-e2fb-9b6b-6b93-6345a4ba97dd.html" class="topic-link">Using your own Docker image</a></li><li><a href="UUID-a1c6c4a9-2bfa-77f5-0299-f1f1ba1deaa9.html" class="topic-link">Running your build locally in Docker</a></li></ul></li><li><a href="UUID-86714967-7e3d-c756-42f9-9ac1db7edb4a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Accounts</a><ul><li><a href="UUID-4d3ea107-005d-70dd-2a77-359c84e92781.html" class="topic-link">Connecting to services</a></li><li><a href="UUID-aadae04b-8b51-3d8f-0c55-6323223e7b29.html" class="topic-link">SAML SSO in Bitrise</a></li><li><a href="UUID-7fb1877e-7cf1-93c8-e09f-40ed90eedbe4.html" class="topic-link">Editing your profile settings</a></li><li><a href="UUID-98fae107-f00b-060f-6d1e-8076a6e360b0.html" class="topic-link">Resetting your password</a></li><li><a href="UUID-0cd731ce-5173-4a0b-d169-cf7caee9eb7c.html" class="topic-link">Two-factor authentication</a></li><li><a href="UUID-bc4ede62-d9f4-97dc-f34e-09782465c93e.html" class="topic-link">Personal access tokens</a></li><li><a href="UUID-fa9c37a1-64d0-5c74-f324-b198ad66462d.html" class="topic-link">Deleting your Bitrise account</a></li></ul></li><li><a href="UUID-66682ae4-b435-da98-c588-4cb36589e592.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workspaces</a><ul><li><a href="UUID-b2672a81-1e7e-0ab4-55dc-44396d01a5b5.html" class="topic-link">Creating Workspaces</a></li><li><a href="UUID-b0887572-7a06-ffb9-1d63-1adc4de6bd9c.html" class="topic-link">Workspace billing and invoicing</a></li><li><a href="UUID-39752d56-7087-4b7e-67a0-7b4cbeb0bfe0.html" class="topic-link">Workspace groups</a></li><li><a href="UUID-0e48bb3c-f26a-2076-c9a9-889c3d955549.html" class="topic-link">Managing the owners of a Workspace</a></li><li><a href="UUID-74ca6188-a67e-c5b2-4ace-282d652ef8d8.html" class="topic-link">Workspace FAQ</a></li></ul></li><li><a href="UUID-c94ad031-477a-dc62-bfb2-be8a740da8c3.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Apps</a><ul><li><a href="UUID-c98a5e1e-cd0c-42b3-00bf-70ab149c6974.html" class="topic-link">Webhooks</a></li><li><a href="UUID-66811810-1d10-b6b9-3aa2-3d886f843f08.html" class="topic-link">Configuring the repository URL and default branch</a></li><li><a href="UUID-b567647e-2421-59ae-7fd8-ec3d3e337378.html" class="topic-link">Configuring SSH keys</a></li><li><a href="UUID-a34567f4-74e4-1f1d-7d8d-96cbffcad04f.html" class="topic-link">Managing user access to an app</a></li><li><a href="UUID-a89f6244-90e5-bb75-35b5-730d57a0daf8.html" class="topic-link">User roles on app teams</a></li><li><a href="UUID-0a12640a-cf3e-6089-dd61-8f3d5da9ca27.html" class="topic-link">Changing the owner of an app</a></li><li><a href="UUID-4f3d837e-5293-365c-4da6-e69b8795cad3.html" class="topic-link">Enabling the Bitrise Support Access for your app</a></li><li><a href="UUID-7977c15f-d343-5588-763e-34b407ef2d6d.html" class="topic-link">Apps with submodules or private repo dependencies</a></li><li><a href="UUID-20ad211e-6e31-4fe0-bca8-61358e546ed2.html" class="topic-link">Public apps</a></li><li><a href="UUID-30061fe3-6a35-8213-71dd-492d8203959f.html" class="topic-link">Creating white label app versions</a></li></ul></li><li><a href="UUID-bf795ad3-7684-a92f-12e3-7f40724cc24c.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Workflows and Pipelines</a><ul><li><a href="UUID-922d7042-4d8c-ecaf-aa47-00a99e408e72.html" class="topic-link">Steps</a></li><li><a href="UUID-efdef6c2-cf0b-4921-7186-79a7db0e9bea.html" class="topic-link">Adding Steps to a Workflow</a></li><li><a href="UUID-be3b0e80-c6fd-363e-1b8c-d71e53b9db6c.html" class="topic-link">Step versioning</a></li><li><a href="UUID-f33fb9b7-70bb-f3f1-e4c5-2ce6bbc59a70.html" class="topic-link">Step inputs</a></li><li><a href="UUID-9bcaffa9-f602-c3e4-a8cb-1bb7cfe04760.html" class="topic-link">Skipping Steps</a></li><li><a href="UUID-2b8c8853-f79a-c077-88d6-35eab62e5bb5.html" class="topic-link">Enabling or disabling a Step conditionally</a></li><li><a href="UUID-dfe4daf8-54d0-28b1-ca8a-c62086d56c06.html" class="topic-link">Setting a time limit for Steps</a></li><li><a href="UUID-45277652-008d-152c-9e3a-00e80a3005be.html" class="topic-link">Developing your own Bitrise Step</a></li><li><a href="UUID-86305538-9683-ba62-60cf-d98ccc4f3255.html" class="topic-link">Workflows</a></li><li><a href="UUID-c30c1c55-0442-47eb-8332-5d12d7f86b03.html" class="topic-link">Default Workflows</a></li><li><a href="UUID-4053e094-d35f-04b9-2ddc-82c470cbe0f6.html" class="topic-link">Creating a Workflow</a></li><li><a href="UUID-23564ae8-b234-0635-694e-7272b31f5ab4.html" class="topic-link">Managing Workflows</a></li><li><a href="UUID-72c92b04-4c0e-fde0-26ab-122240ad1021.html" class="topic-link">Copying Workflows from one app to another</a></li></ul></li><li><a href="UUID-40454aa8-e0ff-ee45-7f68-d733d663b05d.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Builds</a><ul><li><a href="UUID-3daa70a4-ac48-5727-e5fa-34d46303ecef.html" class="topic-link">Configuring build settings</a></li><li><a href="UUID-8749ff03-1d05-9854-489b-c791d9a40463.html" class="topic-link">Starting builds</a></li><li><a href="UUID-e01af56f-e7e8-042a-b224-6d8e895014f7.html" class="topic-link">Caching</a></li><li><a href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html" class="topic-link">Managing build files</a></li><li><a href="UUID-7ee2edb2-aa92-cbc7-e229-4177d416abd0.html" class="topic-link">Environment Variables</a></li><li><a href="UUID-bfc35b35-3895-2edb-471b-ab040993c3bf.html" class="topic-link">Secrets</a></li><li><a href="UUID-a2d504d0-aa72-895e-5ec6-998fbbe323da.html" class="topic-link">Build statuses</a></li><li><a href="UUID-4b5b1437-c4e5-7367-e994-b5738e643e14.html" class="topic-link">Installing tools during a build</a></li><li><a href="UUID-eaf0f2d1-5761-4afb-ddd6-55587fd7d005.html" class="topic-link">Connecting to a VPN during a build</a></li><li><a href="UUID-0873b810-755d-fc96-7bc7-c3c5abaeb537.html" class="topic-link">Finding a specific build</a></li><li><a href="UUID-0d5f20be-06fb-37bc-5603-4310b4c54ca0.html" class="topic-link">Build numbering and app versioning</a></li><li><a href="UUID-fa640ec3-6a1b-3975-89a3-5ef429bd5db4.html" class="topic-link">Build data and troubleshooting</a></li></ul></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Code signing</a><ul><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4631258650456032720420480273" class="topic-link">iOS code signing</a></li><li><a href="UUID-3484139f-bf0b-0901-5812-ed6bef2e045a.html#UUID-3484139f-bf0b-0901-5812-ed6bef2e045a_section-idm4611295222790432720420899685" class="topic-link">Android code signing</a></li><li><a href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" class="topic-link">Android code signing</a></li><li><a href="UUID-31ae6f50-5e6c-3854-a3ba-3b0c408f2bcf.html" class="topic-link">iOS code signing</a></li></ul></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Testing</a><ul><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4582261199457633614655441813" class="topic-link">iOS testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4554386107363233615372540591" class="topic-link">Android testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4588064863241633615395298671" class="topic-link">Flutter testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm453276716924643361540097373" class="topic-link">React Native testing</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4587277360200033615408088734" class="topic-link">Device testing with Firebase</a></li><li><a href="UUID-cbbfa182-5373-5471-9729-9b972ac7465b.html#UUID-cbbfa182-5373-5471-9729-9b972ac7465b_section-idm4589017689313633615416505697" class="topic-link">Test Reports</a></li><li><a href="UUID-4e5399ab-e144-4ece-9e5e-b79866bee64b.html" class="topic-link">Test Reports</a></li><li><a href="UUID-19be1017-9668-f17a-1034-b76f08805e49.html" class="topic-link">Exporting to Test Reports from any Step</a></li><li><a href="UUID-b81c44d0-a3c5-dd6d-0c67-5439429d0b33.html" class="topic-link">Running unit and UI tests for iOS apps</a></li><li><a href="UUID-c8b0f3dc-005c-e07b-3dba-bd992fe4df99.html" class="topic-link">Installing an .ipa file</a></li><li><a href="UUID-f8def6f5-0edf-0478-fe79-a7b56ecf368f.html" class="topic-link">Registering test devices for iOS apps</a></li><li><a href="UUID-eb9315e2-7ece-a2d8-dc0b-df35239335b1.html" class="topic-link">Device testing for iOS</a></li><li><a href="UUID-aef3a46c-6266-9e04-37ea-a33c3bd19a67.html" class="topic-link">Running Android unit tests</a></li><li><a href="UUID-1d5b5ee4-cc81-963f-23c9-7526e4f9a301.html" class="topic-link">Device testing for Android</a></li><li><a href="UUID-4e1444ac-fffa-efb0-328d-4624390aecfc.html" class="topic-link">Running tests in the Visual Studio App Center</a></li><li><a href="UUID-a1884560-256b-1ed2-8610-c0f75ad7722c.html" class="topic-link">Running Detox tests on Bitrise</a></li><li><a href="UUID-a0825290-23c2-2f73-ee6b-49f79247bb96.html" class="topic-link">Measuring your code coverage with Codecov</a></li></ul></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Deploying</a><ul><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4608508127177634306819235491" class="topic-link">Deploying Android apps</a></li><li><a href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736" class="topic-link">Deploying iOS apps</a></li><li><a href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html" class="topic-link">Android deployment</a></li><li><a href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html" class="topic-link">iOS deployment</a></li><li><a href="UUID-a98fe87f-4567-c925-bb4c-e7305a358f31.html" class="topic-link">Deploying with Ship</a></li><li><a href="UUID-486f03bc-17cb-3874-60ef-9c72c9cac4fc.html" class="topic-link">Deploying apps to Applivery</a></li><li><a href="UUID-2cf0f826-fe4d-a23d-a986-f6533dd1ec98.html" class="topic-link">Deploying apps to DeployGate from Bitrise</a></li><li><a href="UUID-a4f81ac8-cc20-95c3-78aa-6cfa92259424.html" class="topic-link">Deploying your app to Appaloosa</a></li><li><a href="UUID-75b882c9-9b2e-43f0-9a71-bbd1b94c2e77.html" class="topic-link">Deploying to TestFairy with Bitrise</a></li></ul></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Insights</a><ul><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4594098314464032933411789556" class="topic-link">How Insights works</a></li><li><a href="UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f.html#UUID-f98fd069-0d7e-56fa-9ae2-141b5b494a3f_section-idm4571274750044834144481960674" class="topic-link">Git Insights and remote caching</a></li><li><a href="UUID-a69bea49-f8f3-cf2d-26c8-0a17d973daa7.html" class="topic-link">Getting started with Insights</a></li><li><a href="UUID-e92853be-cf2f-bc35-98c1-86b7b5f2a1d9.html" class="topic-link">Available metrics in Insights</a></li><li><a href="UUID-7ac126d1-5bd9-e644-642d-f8755f15eaef.html" class="topic-link">Test stats in Insights</a></li></ul></li><li><a href="UUID-1e7fdeeb-5e8f-3ce1-777f-a4defadc6e4b.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise CLI</a><ul><li><a href="UUID-372b2639-babb-6390-d1d2-898e39825d4a.html" class="topic-link">Installing and updating the Bitrise CLI</a></li><li><a href="UUID-65586a1e-a8a7-e642-a281-bb535f60d8f0.html" class="topic-link">Adding a new app from a CLI</a></li><li><a href="UUID-7266de66-409c-7a30-aa7b-78fb3b32172b.html" class="topic-link">Initializing a Bitrise project locally</a></li><li><a href="UUID-9c649821-1aaa-ab87-c4ec-925292d424f1.html" class="topic-link">Installing and upgrading the offline Workflow Editor</a></li><li><a href="UUID-537e2dfa-a322-df53-a92f-b1f63e99c7d7.html" class="topic-link">Running your first local build with the CLI</a></li><li><a href="UUID-6ee95b9f-a082-3d77-d20e-25be9969faa9.html" class="topic-link">Managing Secrets locally</a></li></ul></li><li><a href="UUID-1f199927-764a-51f2-1222-f5a529750c60.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> API</a><ul><li><a href="UUID-c75d8909-8594-0f0d-20ab-fceb36679f84.html" class="topic-link">Authenticating with the Bitrise API</a></li><li><a href="UUID-3897b0dc-2d7a-34a6-3a17-87e0270914dc.html" class="topic-link">Pagination of API calls</a></li><li><a href="UUID-3aa72056-57cd-3533-d8ed-445ef1584299.html" class="topic-link">Adding and managing apps</a></li><li><a href="UUID-c65412f0-db58-2bfc-b10b-c801d887def4.html" class="topic-link">Triggering and aborting builds</a></li><li><a href="UUID-ebbc713e-431e-4f12-ad70-8547c2932347.html" class="topic-link">Incoming and outgoing webhooks</a></li><li><a href="UUID-eaf0528b-c4fb-869e-aded-bcf6abbe69ba.html" class="topic-link">Managing iOS code signing files</a></li><li><a href="UUID-5832d66a-2451-ae69-92c5-53c32cd9e173.html" class="topic-link">Managing files in Generic File Storage</a></li><li><a href="UUID-a67de581-0791-2633-da8a-7f9bcbfe974e.html" class="topic-link">Managing build artifacts</a></li><li><a href="UUID-bea95175-ce19-7eaf-4987-2600317e2d4f.html" class="topic-link">API reference</a></li></ul></li><li><a href="UUID-8e76b4bd-aa2b-b98d-883d-f885032a7b8e.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> References</a><ul><li><a href="UUID-f7c6b635-3669-d853-b24b-4f8542f59a22.html" class="topic-link">Basics of bitrise.yml</a></li><li><a href="UUID-18c85a27-556f-bdba-18a4-c07af747b6e5.html" class="topic-link">Customizing the bitrise.yml config</a></li><li><a href="UUID-08e0cf6c-930a-b699-1e99-7d69aebfdd7c.html" class="topic-link">Workflow reference</a></li><li><a href="UUID-14e81619-0fe5-7d71-6223-9f5067d57904.html" class="topic-link">Steps reference</a></li><li><a href="UUID-732a64c9-4584-db4d-d753-f95122b8a69c.html" class="topic-link">Available Environment Variables</a></li><li><a href="UUID-e1449112-c102-2151-5ceb-116b55ecfaab.html" class="topic-link">Bitrise tools</a></li></ul></li></ul></li><li><a href="UUID-1a69c010-b7fd-4c0e-2cc0-26ceba8e5a15.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Bitrise Docs</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html" class="topic-link"><span class="glyphicon glyphicon-chevron-right"></span> Getting started</a><ul><li><a href="UUID-9bb609fc-1b22-e628-165d-46097239fb95.html#UUID-9bb609fc-1b22-e628-165d-46097239fb95_UUID-603c18c7-eb0e-7dfc-df86-42313f896cd3" class="topic-link">Teams and Organizations</a></li></ul></li><li><a href="UUID-b341255f-a55e-a7f0-b973-a84a0a873bdc.html" class="topic-link">Infrastructure</a></li><li><a href="UUID-e0122c2e-82a3-de27-339b-9f2111b187bb.html" class="topic-link">Account management</a></li><li><a href="UUID-0e88ed3d-4da3-f11f-91e7-a2c59c9bd90f.html" class="topic-link">Workspaces and apps</a></li><li><a href="UUID-dbbf25b0-de43-2e12-27dc-bc594db481ec.html" class="topic-link">Steps and Workflows</a></li><li><a href="UUID-06d1480b-816b-612a-62a4-69462e5d7d96.html" class="topic-link">Builds</a></li><li><a href="UUID-10314503-c554-ba24-63f6-964bae84651b.html" class="topic-link">Code signing</a></li><li><a href="UUID-6cc0b48c-cf6b-e5b7-9e4c-70edaa004389.html" class="topic-link">Testing</a></li><li><a href="UUID-52c4de75-9fe5-5bca-3b8a-64e2cf37cb75.html" class="topic-link">Deploying</a></li><li><a href="UUID-1f0b222e-04a6-451d-842a-0d776ed23a4a.html" class="topic-link">App monitoring</a></li><li><a href="UUID-af4417ce-4968-a84a-114d-e96f3ddb7d33.html" class="topic-link">Bitrise CLI</a></li><li><a href="UUID-12886403-46a8-3b37-000e-286292c993ae.html" class="topic-link">References</a></li><li><a href="UUID-1ad60eea-0461-739e-ac98-a3689e36692b.html" class="topic-link">Bitrise API</a></li></ul></li></ul></div></div><div class="col-md-9 content-container" id="content-wrapper"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b.html#UUID-598994c2-fd12-55e0-97e5-c8a6e309c27b_section-idm4587237415579234306820826736"><span class="glyphicon glyphicon-circle-arrow-left"></span>Prev</a><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="UUID-01e36d41-6117-63b8-d37b-7c7d7dac9635.html">Next<span class="glyphicon glyphicon-circle-arrow-right"></span></a><div id="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-ae57c4fd-3338-1749-3423-301d5554584f" data-publication-date="" id="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708"><div class="titlepage"><div><div class="title"><h4 class="title">Android deployment</h4></div><div><div class="abstract" id="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708_abstract-idm33314032349814"><div class="abstract-title">Abstract</div><p>Deploy Android apps to either bitrise.io, for testing, or to the Google Play Store, for release.</p></div></div></div></div><p>Deploy Android apps to either bitrise.io, for testing, or to the Google Play Store, for release. Learn about Google Play API, keystore files and APK flavors.</p><p>We recommend checking out Ship, our deployment solution that aims to save you a lot of headache in publishing your apps: <a class="xref linktype-component" href="UUID-a98fe87f-4567-c925-bb4c-e7305a358f31.html" title="Deploying with Ship"><span class="xreftitle">Deploying with Ship</span></a>.</p><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-5fce7c55-2d78-10fa-6980-7c8fbcdf1248" data-publication-date="" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1"><div class="titlepage"><div><div class="title"><h5 class="title">Deploying Android apps to Bitrise and Google Play</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>You can deploy your Android apps to Bitrise or to Google Play by using our dedicated Steps and correctly configuring your project in Google Play Console.</p></div></div></div></div><p>This guide describes how you can add your Android project to <a class="link" href="https://www.bitrise.io" target="_blank" rel="noopener">bitrise.io</a> and deploy the APK or AAB built from your project to <a class="link" href="https://play.google.com/store" target="_blank" rel="noopener">Google Play Store</a>.</p><p>You need a new service account created in the Google Play Console so that Bitrise can authenticate with Google Play Deploy during your build. The new service account has to be invited to Google Play Console as a user with the appropriate permission.</p><p>To set up your project for the first time:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Register a <a class="link" href="https://developer.android.com/distribute/console/" target="_blank" rel="noopener">Google Play Developer Account</a>. If you already have a Google Play Developer account, and have already deployed your app to Google Play Store, skip to <a class="xref linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-055cf6ac-7b7e-3f19-38d5-c7a1a6746a03" title="Setting up Google Play API access"><span class="xreftitle">Setting up Google Play API access</span></a>.</p></li><li class="step"><p>Go through <a class="xref linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c" title="Setting up Google Play deployment for the first time"><span class="xreftitle">Setting up Google Play deployment for the first time</span></a>.</p></li></ol></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-055cf6ac-7b7e-3f19-38d5-c7a1a6746a03"><div class="titlepage"><div><div class="title"><h6 class="title">Setting up Google Play API access</h6></div></div></div><p>Grant the Google Play API access to your project by creating a service account and granting the necessary user permissions to the service account.</p><div class="procedure" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_procedure-idm4554293624897633919816156242"><ol class="procedure" type="1"><li class="step"><p>Turn on the Google Play Developer API for your project: <a class="link" href="https://developers.google.com/android-publisher/getting_started#enable" target="_blank" rel="noopener">Enable the API</a>.</p></li><li class="step"><p>Create a service account on Google Cloud Platform: <a class="link" href="https://developers.google.com/android-publisher/getting_started#service-account" target="_blank" rel="noopener">Create service accounts</a>.</p></li><li class="step"><p>Create a new JSON key for the service account: <a class="link" href="https://cloud.google.com/iam/docs/keys-create-delete" target="_blank" rel="noopener">Create and delete service account keys</a>.</p><div dir="ltr" class="note"><h3 class="title">Instant download</h3><p>When you click <span class="guibutton">Create</span> at the end of the process, the service account JSON key is automatically downloaded. Make sure to save it as you cannot access or download it again!</p></div></li><li class="step"><p>Invite your service account user on the <span class="guilabel">Users &amp; Permissions</span> page in Google Play Console and grant the necessary permissions to be able to access and release apps on Google Play: <a class="link" href="https://developers.google.com/android-publisher/getting_started#service-account" target="_blank" rel="noopener">Use a service account</a>.</p></li></ol></div><p>Check out the <a class="link" href="https://developers.google.com/android-publisher/getting_started" target="_blank" rel="noopener">Google Play Developer API</a> guide if you need more information on the process.</p><p>You have successfully prepared your Google Play Console project. A services credential account has been created which is authorized to manage your releases.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c"><div class="titlepage"><div><div class="title"><h6 class="title">Setting up Google Play deployment for the first time</h6></div></div></div><p>Deploying to Google play publishes your app to Google's online store. When you do it for the first time, this requires a bit more work than simply deploying to <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">bitrise.io</a>. Once the necessary configurations are in place, it becomes very simple.</p><p>When configuring Google Play deployment for the first time, you need to link your Google Play Developer account to an API project, set up API access, and upload the service account JSON key to Bitrise.</p><div class="procedure" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_procedure-idm33269139950500"><ol class="procedure" type="1"><li class="step"><p>Upload the first AAB or APK manually to Google Play <a class="link" href="https://support.google.com/googleplay/android-developer/answer/113469?hl=en" target="_blank" rel="noopener">using the Google Play Console</a>.</p></li><li class="step"><p><a class="link" href="https://developers.google.com/android-publisher/getting_started" target="_blank" rel="noopener">Link</a> your Google Play Developer Console to an API project.</p></li><li class="step"><p><a class="link" href="https://developers.google.com/android-publisher/getting_started" target="_blank" rel="noopener">Set up API Access Clients using a service account</a>: Please note when you create your service account on the Google Developer Console, you have to choose <code class="code">json</code> as <span class="bold"><strong>Key Type</strong></span>.</p></li><li class="step"><p>Grant the necessary rights to the service account with your <a class="link" href="https://play.google.com/apps/publish" target="_blank" rel="noopener">Google Play Console</a>. Go to <span class="bold"><strong>Settings</strong></span>, then <span class="bold"><strong>Users &amp; permissions</strong></span>, then <span class="bold"><strong>Invite new user</strong></span>. Due to the way the Google Play Publisher API works, you have to grant at least the following permissions to the service account:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Access level: View app information.</p></li><li class="listitem"><p>Release management: Manage production releases, manage testing track releases.</p></li><li class="listitem"><p>Store presence: Edit store listing, pricing &amp; distribution.</p></li></ul></div></li><li class="step"><p>As an optional step, you can add translations to your Store Listing: <a class="link" href="https://support.google.com/googleplay/android-developer/answer/3125566?hl=en" target="_blank" rel="noopener">Translate &amp; localize your app</a>.</p></li><li class="step"><p><a class="link linktype-component linktextconsumer" href="/document/preview/82264#UUID-c1de3774-3a6f-21c6-5bb8-ee015d1cf953" target="_blank">Connect your Google service account to Bitrise</a>.<span id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_N6675a442adcb6" class="linktextprovider" style="display:none !important;">Connecting a Google Play Console service account to Bitrise</span></p></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-b3cbb2a1-2ef0-5e48-9204-a678f1c6ce66"><div class="titlepage"><div><div class="title"><h6 class="title">Deploying an Android app to bitrise.io</h6></div></div></div><p>In this section, we'll go through how to deploy your Android <em class="glossterm">app</em> to <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">bitrise.io</a>.</p><p>Deploying to <a class="link" href="https://www.bitrise.io" target="_blank" rel="noopener">bitrise.io</a> means that the build artifacts generated during the build will be available for download once the build is finished. You can use this to test your app on your own test devices, for example.</p><p>To deploy your app to <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">bitrise.io</a>:</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_procedure-idm4494179309576032691361648329"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Make sure your <em class="glossterm">Workflow</em> contains the <span class="bold"><strong><a class="link" href="https://www.bitrise.io/integrations/steps/android-build" target="_blank" rel="noopener">Android Build</a></strong></span> <em class="glossterm">Step</em> to build your app.</p><p>Optionally, you can build your app with the <span class="bold"><strong><a class="link" href="https://www.bitrise.io/integrations/steps/gradle-runner" target="_blank" rel="noopener">Gradle Runner</a></strong></span> Step. This requires a bit more configuration from you but allows for more extensive customization.</p></li><li class="step"><p>Add the <span class="bold"><strong><a class="link" href="https://www.bitrise.io/integrations/steps/deploy-to-bitrise-io" target="_blank" rel="noopener">Deploy to Bitrise.io</a></strong></span> Step to your Workflow.</p><div dir="ltr" class="tip"><h3 class="title">Notifying other users</h3><p>You can use the <span class="guilabel">Notify: User Roles</span> and the <span class="guilabel">Notify: Emails</span> inputs of the Step to set up notifications about your deploy. Click the input names to reveal more information about how to configure them.</p></div></li><li class="step"><p>Optionally, set the <span class="guilabel">Enable public page for the App?</span> input of the Step to <span class="guimenuitem">true</span> so the Step <a class="link linktype-component linktextconsumer" href="/document/preview/73608#UUID-6ca8caf5-bdd5-c024-daab-f5848cc82114_section-idm4502247822888033032950776071" target="_blank">enables the public install page</a> for your app.<span id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_N6675a442aed83" class="linktextprovider" style="display:none !important;">Deploying with the Deploy to Bitrise.io Step</span></p></li><li class="step"><p>Run a build.</p></li></ol></div><div class="procedure tab-content" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_procedure-idm33386462671094"><ol class="procedure tab-content" type="1"><li class="step"><p>Open the <code class="filename">bitrise.yml</code> file of your app.</p></li><li class="step"><p>Make sure your <em class="glossterm">Workflow</em> contains the <code class="code">android-build</code> <em class="glossterm">Step</em> to build your app.</p><pre class="programlisting">workflows:
  example-workflow:
    steps:
    - android-build@1:
</pre><p>Optionally, you can build your app with the <code class="code">gradle-runner</code> Step. This requires a bit more configuration from you but allows for more extensive customization.</p></li><li class="step"><p>Set the <code class="code">module</code> and/or <code class="code">variant</code> input to tell the Step what to build.</p><p>In this example, we're building a debug variant of the Android project.</p><pre class="programlisting">workflows:
  example-workflow:
    steps:
    - android-build@1:
        inputs:
        - variant: debug
    - deploy-to-bitrise-io: {}</pre></li><li class="step"><p>Add the <code class="code">deploy-to-bitrise-io</code> Step to your Workflow.</p><pre class="programlisting">workflows:
  example-workflow:
    steps:
    - android-build@1:
        inputs:
        - variant: debug
    - deploy-to-bitrise-io: {}</pre><div dir="ltr" class="tip"><h3 class="title">Notifying other users</h3><p>You can use the <code class="code">notify_user_groups</code> and the <code class="code">notify_email_list</code> inputs of the Step to set up notifications about your deploy:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>The <code class="code">notify_user_groups</code> input allows you to send notifications based on the <a class="link linktype-component" href="UUID-a89f6244-90e5-bb75-35b5-730d57a0daf8.html" title="User roles on app teams">access roles</a> granted to users. For example, you can set the input to notify everyone with an <span class="guilabel">Admin</span> and a <span class="guilabel">Developer</span> role. Set multiple roles separated by a comma: <code class="code">- notify_user_groups: admins, testers</code>.</p></li><li class="listitem"><p>The <code class="code">notify_email_list</code> input only accepts Secrets, and the Secret should contain comma-separated lists of email addresses.</p></li></ul></div></div></li><li class="step"><p>Optionally, set the <span class="guilabel">Enable public page for the App?</span> input of the Step to <span class="guimenuitem">true</span> so the Step <a class="link linktype-component linktextconsumer" href="/document/preview/73608#UUID-6ca8caf5-bdd5-c024-daab-f5848cc82114_section-idm4502247822888033032950776071" target="_blank">enables the public install page</a> for your app.<span id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_N6675a442afe98" class="linktextprovider" style="display:none !important;">Deploying with the Deploy to Bitrise.io Step</span></p></li><li class="step"><p>Run a build.</p></li></ol></div><p>The <span class="bold"><strong>Deploy to Bitrise.io</strong></span> Step will deploy the app. You can share the generated binary with your team members using the build’s URL.</p><div class="example" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_example-idm4625998436268833189096346362"><div class="example-title">Example 30. A bitrise.yml for deploying an Android app to Bitrise</div><div class="example-contents"><p>In this example, we're building the <code class="code">debug</code> variant of an Android app, and deploy it to bitrise.io, as.</p></div></div><br class="example-break"></br></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-e6dea1ce-8978-de97-3546-536ad7cd084b"><div class="titlepage"><div><div class="title"><h6 class="title">Deploying to Google Play</h6></div></div></div><p>Deploying to Google Play requires <a class="link linktype-component" href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" title="Android code signing">a signed APK or AAB file</a> and the <span class="bold"><strong><a class="link" href="https://www.bitrise.io/integrations/steps/google-play-deploy" target="_blank" rel="noopener">Google Play Deploy</a></strong></span> <em class="glossterm">Step</em>.</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>If you're trying to deploy your <em class="glossterm">app</em> for the first time, <a class="link linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c" title="Setting up Google Play deployment for the first time">make sure your Google Play configuration is set up correctly</a> and that you <a class="link linktype-component" href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html#UUID-058726e8-43e1-0385-f4b7-e2fff934ba79" title="Uploading files for your builds">uploaded your service account JSON key to Bitrise</a>.</p><div dir="ltr" class="note"><h3 class="title">Uploading the service account JSON key file</h3><p>We recommend uploading the service account JSON key to Bitrise but it is not mandatory: you can store it elsewhere and provide a direct link to it.</p></div></li><li class="step"><p>Open the <span class="guilabel">App settings</span> page, and select <span class="guilabel">Code Signing</span>.</p></li><li class="step"><p>On the <span class="guilabel">Android</span> tab, find the uploaded service account JSON key and copy the secret Env Var under its name.</p><p>For example, <code class="code">BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL</code>.</p></li><li class="step"><p>Open your <em class="glossterm">Workflow</em> and add the <span class="bold"><strong>Google Play Deploy</strong></span> Step to it.</p></li><li class="step"><p>In the <span class="bold"><strong>Service Account JSON key file path</strong></span> input, paste the Environment Variable you copied.</p><div dir="ltr" class="tip"><h3 class="title">Direct path to the service account JSON key file</h3><p>If you don't want to upload the service account JSON key to Bitrise, you can also add a file path right in the Step’s input field where the file path can be local or remote too:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>For a remote JSON key file you can provide any download location as value, for example, <code class="code">https://URL/TO/key.json</code>.</p></li><li class="listitem"><p>For a local JSON key file you can provide a file path url as value, for example, <code class="code">file://PATH/TO/key.json</code>.</p></li></ul></div></div></li><li class="step"><p>In the <span class="bold"><strong>Package name</strong></span> input, add the package name of your app.</p></li><li class="step"><p>In the <span class="bold"><strong>Track</strong></span> input, add the track where you want to deploy your APK (for example, alpha/beta/rollout/production or any custom track you set).</p></li></ol></div><div class="procedure tab-content" id="UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_procedure-idm33389060179998"><ol class="procedure tab-content" type="1"><li class="step"><p>If you're trying to deploy your <em class="glossterm">app</em> for the first time, <a class="link linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-e15bf8ff-f1db-86ce-70b2-bcffff596ae1_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c" title="Setting up Google Play deployment for the first time">make sure your Google Play configuration is set up correctly</a> and that you <a class="link linktype-component" href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html#UUID-058726e8-43e1-0385-f4b7-e2fff934ba79" title="Uploading files for your builds">uploaded your service account JSON key to Bitrise</a>.</p><div dir="ltr" class="note"><h3 class="title">Uploading the service account JSON key file</h3><p>We recommend uploading the service account JSON key to Bitrise but it is not mandatory: you can store it elsewhere and provide a direct link to it.</p></div></li><li class="step"><p>Open your app's <code class="filename">bitrise.yml</code> file and add the <code class="code">google-play-deploy</code> Step to it.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
</pre></li><li class="step"><p>In the <code class="code">service_account_json_key_path</code> input, you need to provide the path to the service account JSON key file.</p><p>If you uploaded the file to Bitrise, you can find the Env Var storing its download URL in the Generic File Storage in the Workflow Editor.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"</pre><p>If you didn't upload your service account JSON key to Bitrise, you can set a direct path in the input. The file path can point to a local or a remote location.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For a remote JSON key file you can provide any download location as value, for example, <code class="code">https://URL/TO/key.json</code>.</p></li><li class="listitem"><p>For a local JSON key file you can provide a file path url as value, for example, <code class="code">file://PATH/TO/key.json</code>.</p></li></ul></div></li><li class="step"><p>In the <code class="code">package</code> input, add <a class="link" href="https://support.google.com/admob/answer/9972781?hl=en#:~:text=The%20package%20name%20of%20an,supported%20third%2Dparty%20Android%20stores." target="_blank" rel="noopener">the package name</a> of your app.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"
      - package_name: myApp</pre></li><li class="step"><p>In the <code class="code">track</code> input, add the track where you want to deploy your app binary (for example, alpha/beta/rollout/production or any custom track you set).</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"
      - package_name: myApp
      - track: alpha</pre></li></ol></div><p>That’s all! Start or schedule a build and share the URL with external testers or distribute your app on an app store of your choice!</p></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-c4522aa2-80a6-36ca-f716-bf398931d09f" data-publication-date="" id="UUID-b6b8ba82-f3da-ff8c-e995-e74faf58f79e"><div class="titlepage"><div><div class="title"><h5 class="title">Deploying apps to Huawei AppGallery</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>You can deploy your Android apps to Huawei AppGallery via a verified Bitrise Step called Deploy to Huawei App Gallery. The Step can be used to deploy any APK file that you build on Bitrise.</p></div></div></div></div><p>You can deploy your Android apps to <a class="link" href="https://appgallery.huawei.com/" target="_blank" rel="noopener">Huawei AppGallery</a> via a verified Bitrise <em class="glossterm">Step</em> called <span class="bold"><strong>Deploy to Huawei App Gallery</strong></span>. The Step can be used to deploy any APK file that you build on Bitrise.</p><p>The Step will need:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The App ID of the app.</p></li><li class="listitem"><p>The Client ID of the API client.</p></li><li class="listitem"><p>The Key generated for the API client.</p></li></ul></div><p>To successfully deploy your <em class="glossterm">app</em> to Huawei AppGallery, you need a Workflow that:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Builds and signs an APK or AAB file.</p></li><li class="listitem"><p>Includes the <span class="bold"><strong>Deploy to Huawei App Gallery</strong></span> Step to deploy the app.</p></li></ul></div><p>To configure deploying with the <span class="bold"><strong>Deploy to Huawei App Gallery Step</strong></span>:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><a class="link" href="https://developer.huawei.com/consumer/en/doc/distribution/app/agc-create_app" target="_blank" rel="noopener">Manually upload the first APK of the app to Huawei AppGallery using the website interface on AppGallery Connect.</a></p></li><li class="step"><p><a class="link" href="https://developer.huawei.com/consumer/en/doc/distribution/app/appgallerykit-createapiclient" target="_blank" rel="noopener">Create a team-level API client on AppGallery Connect</a>.</p><div class="mediaobject"><img src="image/uuid-e444bc09-0aed-9c9d-6ebb-8531a391fb75.png" style="" alt="huawei_api.png"></img></div></li><li class="step"><p>Open the Workflow Editor on Bitrise.</p></li><li class="step"><p>Go to the <em class="glossterm">Workflow</em> that you want to use for deploying the app.</p></li><li class="step"><p>Add the <span class="bold"><strong>Deploy to Huawei App Gallery</strong></span> Step after the Steps that build and sign your APK.</p><div class="mediaobject"><img src="image/uuid-f1bdccd2-c501-e9ae-ace8-61c3c7e82a9b.png" style="" alt="huawei_step.png"></img></div></li><li class="step"><p>Open the <span class="bold"><strong>Config</strong></span> input group.</p></li><li class="step"><p>Fill in the required inputs.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>File path</strong></span>: If you used a Step that automatically exports the <code class="code">BITRISE_APK_PATH</code> Environment Variable after building your APK, leave this unchanged. The <span class="bold"><strong>Android Build</strong></span> Step is such a Step, for example.</p></li><li class="listitem"><p><span class="bold"><strong>File name</strong></span>: The unique name of the APK file. This name will be used when uploading to the AppGallery Connect.</p></li><li class="listitem"><p><span class="bold"><strong>App ID</strong></span>: The identified can be found in the <span class="bold"><strong>App information</strong></span> section on AppGallery Connect.</p></li><li class="listitem"><p><span class="bold"><strong>Client ID</strong></span>: The API client ID generated on AppGallery Connect.</p></li><li class="listitem"><p><span class="bold"><strong>Key</strong></span>: The key generated with the API client on AppGallery connect.</p></li></ul></div></li></ol></div><p>Take a look at the following <em class="glossterm">bitrise.yml</em> file to see an example configuration that uses the <span class="bold"><strong>Deploy to Huawei AppGallery</strong></span> Step to deploy an app.</p><pre class="programlisting">workflows:
  deploy:
    steps:
    - activate-ssh-key@4:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
    - git-clone@4: {}
    - cache-pull@2: {}
    - install-missing-android-tools@2:
        inputs:
        - gradlew_path: "$PROJECT_LOCATION/gradlew"
    - gradle-runner@1.9:
        inputs:
        - gradle_file: "$GRADLE_BUILD_FILE_PATH"
        - gradle_task: assembleRelease
        - gradlew_path: "$GRADLEW_PATH"
    - sign-apk@1.7: {}
    - deploy-to-bitrise-io@1: {}
    - cache-push@2: {}
    - appgallery-deploy@0:
        inputs:
        - huawei_client_id: 'XXX'
        - huawei_client_secret: "$CLIENT_SECRET"
        - huawei_app_id: 'YYY'  </pre><p>Run a build! If all goes well, you should see your app on Huawei AppGallery.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-d856df0e-2c91-4328-af8d-c4cef99def94" data-publication-date="" id="UUID-e64bff14-2d3b-3a15-6d56-bcc6629eaceb"><div class="titlepage"><div><div class="title"><h5 class="title">Generate and deploy multiple flavor APKs in a single Workflow</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>You can generate, code sign and deploy multiple flavor (multi-flavor) APKs/AABs in one workflow using our Gradle Runner Step.</p></div></div></div></div><p>You can generate, code sign and deploy multiple flavor (multi-flavor) APKs/AABs in one <em class="glossterm">Workflow</em> using our <span class="bold"><strong>Gradle Runner</strong></span> <em class="glossterm">Step</em>. Flavor means enhancing an app’s core code with features resulting in different versions of the same <em class="glossterm">app</em> (just to mention the most common examples: free/paid, demo/full). Check out the official Android Studio guide on <a class="link" href="https://developer.android.com/studio/build/build-variants" target="_blank" rel="noopener">build types, flavors and build variants</a> for more info! In this tutorial, you will need to do some settings to <span class="bold"><strong>Android Sign</strong></span> and <span class="bold"><strong>Google Play Deploy</strong></span> Steps - so keep your eyes peeled!</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e64bff14-2d3b-3a15-6d56-bcc6629eaceb_UUID-e01a2fbb-afa0-55b7-79aa-dd38498e5644"><div class="titlepage"><div><div class="title"><h6 class="title">Generating multi-flavor APKs</h6></div></div></div><p>To generate APK files for several different flavors:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p></li><li class="step"><p>On the <span class="guilabel">Workflows &amp; Pipelines</span> page, find the Workflow you need and click into its row to open the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-f45ed80f-ecee-e685-1582-5cee628d12ec.png" style="" alt="workflow-and-pipelines.png"></img></div></li><li class="step"><p>Insert <span class="bold"><strong>Gradle Runner</strong></span> Step after the Android testing Steps. <span class="bold"><strong>Android Build</strong></span> Step can only build one variant so if this Step is part of your Workflow, then we advise you to replace it with our <span class="bold"><strong>Gradle Runner</strong></span> Step.</p></li><li class="step"><p>Click the <span class="bold"><strong>Config</strong></span> section of the Step.</p></li><li class="step"><p>Specify <span class="bold"><strong>assemble</strong></span> Gradle tasks by adding your build variants’ task names in the <span class="bold"><strong>Gradle task to run</strong></span> Step input field - as many task names as many build variants you want to build in one workflow. Each task name must be exactly the same build variant name what you have listed in the <span class="bold"><strong>Build Variant</strong></span> window of Android Studio! Make sure you separate them only with a space, no need for a comma ! In this image, you can see the order of the Steps for the deploy workflow and the <span class="bold"><strong>Gradle Task to run</strong></span> Step input with two build variants:</p><p><code class="code">assembleDemo</code> and <code class="code">assembleFull</code> (for APKs) or <code class="code">bundleDemo</code> and <code class="code">bundleFull</code> (for AABs)</p><div class="mediaobject"><img src="image/uuid-b702773a-d24b-62a5-fa83-208936e116a3.jpg" style="" alt="Generate and deploy multiple flavor APKs in a single workflow"></img></div></li><li class="step"><p><span class="bold"><strong>Gradle Runner</strong></span> generates a <code class="code">$BITRISE_APK_PATH_LIST</code> / <code class="code">$BITRISE_AAB_PATH_LIST</code> Environment Variable output that contains APKs/AABs built for ALL build variants defined above. We will need this output Environment Variable later.</p></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-e64bff14-2d3b-3a15-6d56-bcc6629eaceb_UUID-2f396523-28fc-0362-cc56-cdf8f8ecfa87"><div class="titlepage"><div><div class="title"><h6 class="title">Signing and deploying multi-flavor APKs</h6></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p></li><li class="step"><p>On the <span class="guilabel">Workflows &amp; Pipelines</span> page, find the Workflow you need and click into its row to open the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-f45ed80f-ecee-e685-1582-5cee628d12ec.png" style="" alt="workflow-and-pipelines.png"></img></div></li><li class="step"><p>Add one <span class="bold"><strong>Android Sign</strong></span> <em class="glossterm">Step</em> AFTER the <span class="bold"><strong>Gradle Runner</strong></span> Step if it’s missing from your <em class="glossterm">Workflow</em>.</p></li><li class="step"><p>Set the <span class="bold"><strong>App file path</strong></span> input to <code class="code">$BITRISE_APK_PATH_LIST</code> or <code class="code">$BITRISE_AAB_PATH_LIST</code> depending on which <em class="glossterm">app</em> format you built in the previous <span class="bold"><strong>Gradle Runner</strong></span> Step.</p><p>This will make sure all APKs or AABs get code signed with the keystore file you uploaded to the <span class="bold"><strong>Code Signing</strong></span> tab. The Step will export either the <code class="code">$BITRISE_SIGNED_APK_PATH_LIST</code> or the <code class="code">$BITRISE_SIGNED_AAB_PATH_LIST</code> Environment Variable output which contains the path of the signed app files for each build variant.</p></li><li class="step"><p>Make sure you set the following input fields in the <span class="bold"><strong>Android Sign</strong></span> Step:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Keystore url</strong></span></p></li><li class="listitem"><p><span class="bold"><strong>Keystore password</strong></span></p></li><li class="listitem"><p><span class="bold"><strong>Keystore alias</strong></span></p></li></ul></div></li><li class="step"><p>Add the <span class="bold"><strong>Google Play Deploy</strong></span> Step AFTER the <span class="bold"><strong>Android Sign</strong></span> Step.</p></li><li class="step"><p>Set the <code class="code">$BITRISE_SIGNED_APK_PATH</code> or the <code class="code">$BITRISE_SIGNED_AAB_PATH</code> Environment Variable in the <span class="bold"><strong>APK or App Bundle file path</strong></span> Step input field so that the <span class="bold"><strong>Google Play Deploy</strong></span> Step can release all your build variants to the app store.</p></li></ol></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-bba05c8f-bc65-1e68-6d73-8d701a3ef7dc" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4"><div class="titlepage"><div><div class="title"><h5 class="title">Generating and deploying Android app bundles</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>Creating an Android App Bundle with Bitrise is almost the same as generating an APK. You have to tweak a few Step inputs to compile an Android App Bundle (.aab) file from your code, then get the bundle signed and deployed to Google Play Store.</p></div></div></div></div><p>Creating an Android App Bundle with Bitrise is almost the same as generating an APK. All you have to do is tweaking a few <em class="glossterm">Step</em> inputs to compile an Android App Bundle (.aab) file from your code, then get the bundle signed and deployed to Google Play Store.</p><div dir="ltr" class="important"><h3 class="title">Step versions supporting bundle creation</h3><p>The following Steps must be of the indicated version or newer - older versions of the Steps do NOT support bundle creation.</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p><span class="bold"><strong>Android Build</strong></span> 0.10.0 or newer</p></li><li class="listitem"><p><span class="bold"><strong>Gradle Runner</strong></span> 1.9.0 or newer</p></li><li class="listitem"><p><span class="bold"><strong>Android Sign</strong></span> 1.3.0 or newer</p></li><li class="listitem"><p><span class="bold"><strong>Deploy to Google Play</strong></span> 1.6.0 or newer</p></li></ul></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-1c5e2e5c-e73a-6f92-75ba-5b5843287cc6"><div class="titlepage"><div><div class="title"><h6 class="title">Generating an Android App Bundle file</h6></div></div></div><p>You can create an Android App Bundle with either the <span class="bold"><strong>Gradle Runner</strong></span> <em class="glossterm">Step</em> or with the <span class="bold"><strong>Android Build</strong></span> Step.</p><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_section-idm4483122772518432719033951925"><div class="titlepage"><div><div class="title"><h6 class="title">Using the Gradle Runner Step</h6></div></div></div><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p></li><li class="step"><p>On the <span class="guilabel">Workflows &amp; Pipelines</span> page, find the Workflow you need and click into its row to open the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-f45ed80f-ecee-e685-1582-5cee628d12ec.png" style="" alt="workflow-and-pipelines.png"></img></div></li><li class="step"><p>Insert the <span class="bold"><strong>Gradle Runner</strong></span> Step after the <span class="bold"><strong>Android Unit Test</strong></span> and <span class="bold"><strong>Android Lint</strong></span> Steps in your <em class="glossterm">Workflow</em>.</p></li><li class="step"><p>Click the <span class="bold"><strong>Config</strong></span> section of <span class="bold"><strong>Gradle Runner</strong></span>.</p></li><li class="step"><p>In the <span class="bold"><strong>Gradle task to run</strong></span> input field, set, for example, <code class="code">bundleRelease</code> or <code class="code">bundleDebug</code> to create a bundle of your project.</p><div class="mediaobject"><img src="image/uuid-b0a21607-f817-bdff-5480-e82a6f9a0152.jpg" style="" alt="Generating and deploying Android app bundles"></img></div><div dir="ltr" class="tip"><h3 class="title">APK and AAB in the same Workflow</h3><p>If you wish to generate an Android App Bundle and an APK in one Workflow, you can specify an additional task in the <span class="bold"><strong>Gradle task to run</strong></span> input field: set the input value to <code class="code">bundleRelease assembleRelease</code> to generate release versions.</p></div></li></ol></div><div class="procedure tab-content"><ol class="procedure tab-content" type="1"><li class="step"><p>Open the <code class="filename">bitrise.yml</code> file of your app.</p></li><li class="step"><p>Insert the <code class="code">gradle-runner</code> Step after the <code class="code">android-unit-test</code> and <code class="code">android-lint</code> Steps in your <em class="glossterm">Workflow</em>.</p><pre class="programlisting">my-workflow:
  steps:
    - activate-ssh-key:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
    - git-clone: {}
    - install-missing-android-tools: {}
    - android-lint: {}
    - android-unit-test: {}
    - gradle-runner:</pre></li><li class="step"><p>In the <code class="code">gradle_task</code> input of <code class="code">gradle-runner</code>, set, for example, <code class="code">bundleRelease</code> or <code class="code">bundleDebug</code> to create a bundle of your project.</p><pre class="programlisting">my-workflow:
  steps:
    - activate-ssh-key:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
    - git-clone: {}
    - install-missing-android-tools: {}
    - android-lint: {}
    - android-unit-test: {}
    - gradle-runner:
        inputs:
          - gradle_task: bundleRelease</pre><div dir="ltr" class="tip"><h3 class="title">APK and AAB in the same Workflow</h3><p>If you wish to generate an Android App Bundle and an APK in one Workflow, you can specify an additional task in the <code class="code">gradle_task</code> input field: set the input value to <code class="code">bundleRelease assembleRelease</code> to generate release versions.</p></div></li></ol></div><p>This way the Step will generate an Android App Bundle instead of an APK.</p></section><section dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_section-idm4599016489129632719034081695"><div class="titlepage"><div><div class="title"><h6 class="title">Using the Android Build Step</h6></div></div></div><p>You can generate an Android App Bundle for your Android app with our <span class="bold"><strong>Android Build</strong></span> Step as well:</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Open your app on <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">Bitrise</a>.</p></li><li class="step"><p>Click the <span class="guibutton">Workflows</span> button on the main page.</p></li><li class="step"><p>On the <span class="guilabel">Workflows &amp; Pipelines</span> page, find the Workflow you need and click into its row to open the Workflow Editor.</p><div class="mediaobject"><img src="image/uuid-f45ed80f-ecee-e685-1582-5cee628d12ec.png" style="" alt="workflow-and-pipelines.png"></img></div></li><li class="step"><p>Add the <span class="bold"><strong>Android Build</strong></span> Step after the <span class="bold"><strong>Android Unit Test</strong></span> and <span class="bold"><strong>Android Lint</strong></span> Steps in your Workflow.</p></li><li class="step"><p>Provide the root directory of your Android project in the <span class="bold"><strong>Project Location</strong></span> input field.</p></li><li class="step"><p>Go to <span class="bold"><strong>Build type</strong></span> and select <code class="code">aab</code> as build type.</p><div class="mediaobject"><img src="image/uuid-e786c907-9370-70be-0d2f-7c9c6f028ac7.jpg" style="" alt="Generating and deploying Android app bundles"></img></div><div dir="ltr" class="tip"><h3 class="title">APK and AAB in the same Workflow</h3><p>If you wish to generate an APK and an Android App Bundle in one Workflow, add two <span class="bold"><strong>Android Build</strong></span> Steps after each other and configure one to build an Android App Bundle and the other to build an APK.</p></div></li></ol></div><div class="procedure tab-content"><ol class="procedure tab-content" type="1"><li class="step"><p>Open the <code class="filename">bitrise.yml</code> file of your app.</p></li><li class="step"><p>Add the <code class="code">android-build</code> Step after the <code class="code">android-unit-test</code> and <code class="code">android-lint</code> Steps in your Workflow.</p><pre class="programlisting">my-workflow:
  steps:
    - activate-ssh-key:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
    - git-clone: {}
    - install-missing-android-tools: {}
    - android-lint: {}
    - android-unit-test: {}
    - android-build:
</pre></li><li class="step"><p>Provide the root directory of your Android project in the <code class="code">project_location</code> input field.</p></li><li class="step"><p>Set the value of the <code class="code">build-type</code> input to <code class="code">aab</code>.</p><pre class="programlisting">my-workflow:
  steps:
    - activate-ssh-key:
        run_if: '{{getenv "SSH_RSA_PRIVATE_KEY" | ne ""}}'
    - git-clone: {}
    - install-missing-android-tools: {}
    - android-lint: {}
    - android-unit-test: {}
    - android-build:
        inputs:
          - build-type: aab</pre><div dir="ltr" class="tip"><h3 class="title">APK and AAB in the same Workflow</h3><p>If you wish to generate an APK and an Android App Bundle in one Workflow, add two <code class="code">android-build</code> Steps after each other and configure one to build an Android App Bundle and the other to build an APK.</p></div></li></ol></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-7bfb8254-55fc-7e3e-fc87-1ea77e2c303f"><div class="titlepage"><div><div class="title"><h6 class="title">Signing an Android App bundle</h6></div></div></div><p>Signing an Android App Bundle file works the same way as signing an APK: the most convenient method is to upload your keystore files to Bitrise and use the <span class="bold"><strong>Android Sign</strong></span> Step:</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_procedure-idm4592227544974433065890218317"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Upload your keystore file to Bitrise.</p></li><li class="step"><p>Open your Workflow in the Workflow Editor, and add the <span class="bold"><strong>Android Sign</strong></span> <em class="glossterm">Step</em> AFTER the build Step.</p></li><li class="step"><p>Make sure that the <span class="guilabel">Keystore password</span>, <span class="guilabel">Key alias</span> and the <span class="guilabel">Key password</span> input fields are filled out.</p><div dir="ltr" class="tip"><h3 class="title">Default input values</h3><p>If you have uploaded your keystore file and filled out the required credentials, the <span class="bold"><strong>Android Sign</strong></span> Step's <span class="guilabel">Keystore url</span>, <span class="guilabel">Keystore password</span>, <span class="guilabel">Keystore alias</span>, and the <span class="guilabel">Private key password</span> inputs will get populated automatically!</p></div></li><li class="step"><p>Make sure the <span class="guilabel">App file path</span> input field displays the same output env var as the output of the build Step you've been using.</p><p>For example, <span class="bold"><strong>Android Build</strong></span> exports either a <code class="envar">$BITRISE_APK_PATH</code> or a <code class="envar">$BITRISE_AAB_PATH</code> Env Var that points to the APK and/or AAB file the Step generated. By default, this input points at these Env Vars.</p><div class="mediaobject"><img src="image/uuid-8b24a99b-a80b-f23a-7708-af1136ffbedb.jpg" style="" alt="Generating and deploying Android app bundles"></img></div><div dir="ltr" class="tip"><h3 class="title">Further configuration options</h3><p>Check out all the available configuration options of the <span class="bold"><strong>Android Sign</strong></span> Step in the Workflow Editor. You can:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>Enable or disable memory page alignment with the <span class="guilabel">Page alignment</span> input.</p></li><li class="listitem"><p>Use <code class="code">apksigner</code> instead of the default <code class="code">jarsigner</code> with the <span class="guilabel">Enables apksigner</span> input.</p></li><li class="listitem"><p>Enforce a specific <a class="link" href="https://source.android.com/docs/security/features/apksigning#schemes" target="_blank" rel="noopener">Signature Scheme</a> with the <span class="guilabel">APK Signature Scheme</span> input.</p></li></ul></div></div></li></ol></div><div class="procedure tab-content" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_procedure-idm33389040087952"><ol class="procedure tab-content" type="1"><li class="step"><p>Upload your keystore file to Bitrise.</p></li><li class="step"><p>In your app's <code class="filename">bitrise.yml</code> file, add the <code class="code">sign-apk</code> <em class="glossterm">Step</em> AFTER the build Step - for example, <code class="code">android-build</code> - in your <em class="glossterm">Workflow</em>.</p><pre class="programlisting">sign-android-workflow:
  steps:
    - android-build: {}
    - sign-apk@1:
        inputs:
</pre></li><li class="step"><p>Make sure that the <code class="code">keystore_url</code>, <code class="code">keystore_password</code>, and <code class="code">keystore_alias</code> inputs point to the correct location.</p><pre class="programlisting">sign-android-workflow:
  steps:
    - android-build: {}
    - sign-apk@:
        inputs:
        - keystore_url: "$BITRISEIO_ANDROID_KEYSTORE_URL"
        - keystore_password: "$BITRISEIO_ANDROID_KEYSTORE_PASSWORD"
        - keystore_alias: "$BITRISEIO_ANDROID_KEYSTORE_ALIAS"
</pre><div dir="ltr" class="tip"><h3 class="title">Default input values</h3><p>If you have uploaded your keystore file to Bitrise and filled out the required credentials, you do not have to set the inputs at all: the default values, defined in the Step's <code class="filename">step.yml</code> configuration file, will point to the keystore file and the necessary credentials.</p></div></li><li class="step"><p>Make sure the <code class="code">android_app</code> input field displays the same output Env Var as the output of the build Step you've been using.</p><p>For example, <code class="code">android-build</code> exports either a <code class="envar">$BITRISE_APK_PATH</code> or a <code class="envar">$BITRISE_AAB_PATH</code> Env Var that points to the APK and/or AAB file the Step generated. By default, this input points at these Env Vars.</p><p>The Step will look for a binary to sign at the locations provided in this input.</p><pre class="programlisting">sign-android-workflow:
  steps:
    - android-build: {}
    - sign-apk@1:
        inputs:
        - keystore_url: "$BITRISEIO_ANDROID_KEYSTORE_URL"
        - keystore_password: "$BITRISEIO_ANDROID_KEYSTORE_PASSWORD"
        - keystore_alias: "$BITRISEIO_ANDROID_KEYSTORE_ALIAS"
        - android_app: "$BITRISE_APK_PATH\\n$BITRISE_AAB_PATH"
</pre><div dir="ltr" class="tip"><h3 class="title">Further configuration options</h3><p>Check out all the available configuration options of the <code class="code">android-sign</code> Step in <a class="link" href="https://github.com/bitrise-steplib/steps-sign-apk/blob/master/step.yml" target="_blank" rel="noopener">its step.yml file</a>. You can:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>Enable or disable memory page alignment with the <code class="code">page_align</code> input.</p></li><li class="listitem"><p>Use <code class="code">apksigner</code> instead of the default <code class="code">jarsigner</code> with the <code class="code">use_apk_signer</code> input.</p></li><li class="listitem"><p>Enforce a specific <a class="link" href="https://source.android.com/docs/security/features/apksigning#schemes" target="_blank" rel="noopener">Signature Scheme</a> with the <code class="code">signer_scheme</code> input.</p></li></ul></div></div></li></ol></div><p>And you should be done! If you would like to read more about Android code signing, check out <a class="link linktype-component" href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" title="Android code signing">our guide</a>.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-56c34684-b773-46d1-8748-8f2778180bc9"><div class="titlepage"><div><div class="title"><h6 class="title">Deploying your Android App Bundle to Google Play</h6></div></div></div><p>Deploying an AAB file isn't significantly different from deploying an APK to Google Play.</p><p>If you want to check the bundle prior to app store distribution, you can add the <span class="bold"><strong>Deploy to Bitrise.io</strong></span> Step after the <span class="bold"><strong>Gradle Runner / Android Build</strong></span> Steps. It uploads the bundle into the <span class="bold"><strong>Artifacts</strong></span> tab of your Build’s page.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c"><div class="titlepage"><div><div class="title"><h6 class="title">Setting up Google Play deployment for the first time</h6></div></div></div><p>Deploying to Google play publishes your app to Google's online store. When you do it for the first time, this requires a bit more work than simply deploying to <a class="link" href="https://www.bitrise.io/" target="_blank" rel="noopener">bitrise.io</a>. Once the necessary configurations are in place, it becomes very simple.</p><p>When configuring Google Play deployment for the first time, you need to link your Google Play Developer account to an API project, set up API access, and upload the service account JSON key to Bitrise.</p><div class="procedure" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_procedure-idm33269139950500"><ol class="procedure" type="1"><li class="step"><p>Upload the first AAB or APK manually to Google Play <a class="link" href="https://support.google.com/googleplay/android-developer/answer/113469?hl=en" target="_blank" rel="noopener">using the Google Play Console</a>.</p></li><li class="step"><p><a class="link" href="https://developers.google.com/android-publisher/getting_started" target="_blank" rel="noopener">Link</a> your Google Play Developer Console to an API project.</p></li><li class="step"><p><a class="link" href="https://developers.google.com/android-publisher/getting_started" target="_blank" rel="noopener">Set up API Access Clients using a service account</a>: Please note when you create your service account on the Google Developer Console, you have to choose <code class="code">json</code> as <span class="bold"><strong>Key Type</strong></span>.</p></li><li class="step"><p>Grant the necessary rights to the service account with your <a class="link" href="https://play.google.com/apps/publish" target="_blank" rel="noopener">Google Play Console</a>. Go to <span class="bold"><strong>Settings</strong></span>, then <span class="bold"><strong>Users &amp; permissions</strong></span>, then <span class="bold"><strong>Invite new user</strong></span>. Due to the way the Google Play Publisher API works, you have to grant at least the following permissions to the service account:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Access level: View app information.</p></li><li class="listitem"><p>Release management: Manage production releases, manage testing track releases.</p></li><li class="listitem"><p>Store presence: Edit store listing, pricing &amp; distribution.</p></li></ul></div></li><li class="step"><p>As an optional step, you can add translations to your Store Listing: <a class="link" href="https://support.google.com/googleplay/android-developer/answer/3125566?hl=en" target="_blank" rel="noopener">Translate &amp; localize your app</a>.</p></li><li class="step"><p><a class="link linktype-component linktextconsumer" href="/document/preview/82264#UUID-c1de3774-3a6f-21c6-5bb8-ee015d1cf953" target="_blank">Connect your Google service account to Bitrise</a>.<span id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_N6675a442b0f96" class="linktextprovider" style="display:none !important;">Connecting a Google Play Console service account to Bitrise</span></p></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="" data-publication-date="" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-e6dea1ce-8978-de97-3546-536ad7cd084b"><div class="titlepage"><div><div class="title"><h6 class="title">Deploying to Google Play</h6></div></div></div><p>Deploying to Google Play requires <a class="link linktype-component" href="UUID-62d463ed-a4fe-d98e-5053-e60799de450a.html" title="Android code signing">a signed APK or AAB file</a> and the <span class="bold"><strong><a class="link" href="https://www.bitrise.io/integrations/steps/google-play-deploy" target="_blank" rel="noopener">Google Play Deploy</a></strong></span> <em class="glossterm">Step</em>.</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>If you're trying to deploy your <em class="glossterm">app</em> for the first time, <a class="link linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c" title="Setting up Google Play deployment for the first time">make sure your Google Play configuration is set up correctly</a> and that you <a class="link linktype-component" href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html#UUID-058726e8-43e1-0385-f4b7-e2fff934ba79" title="Uploading files for your builds">uploaded your service account JSON key to Bitrise</a>.</p><div dir="ltr" class="note"><h3 class="title">Uploading the service account JSON key file</h3><p>We recommend uploading the service account JSON key to Bitrise but it is not mandatory: you can store it elsewhere and provide a direct link to it.</p></div></li><li class="step"><p>Open the <span class="guilabel">App settings</span> page, and select <span class="guilabel">Code Signing</span>.</p></li><li class="step"><p>On the <span class="guilabel">Android</span> tab, find the uploaded service account JSON key and copy the secret Env Var under its name.</p><p>For example, <code class="code">BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL</code>.</p></li><li class="step"><p>Open your <em class="glossterm">Workflow</em> and add the <span class="bold"><strong>Google Play Deploy</strong></span> Step to it.</p></li><li class="step"><p>In the <span class="bold"><strong>Service Account JSON key file path</strong></span> input, paste the Environment Variable you copied.</p><div dir="ltr" class="tip"><h3 class="title">Direct path to the service account JSON key file</h3><p>If you don't want to upload the service account JSON key to Bitrise, you can also add a file path right in the Step’s input field where the file path can be local or remote too:</p><div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem"><p>For a remote JSON key file you can provide any download location as value, for example, <code class="code">https://URL/TO/key.json</code>.</p></li><li class="listitem"><p>For a local JSON key file you can provide a file path url as value, for example, <code class="code">file://PATH/TO/key.json</code>.</p></li></ul></div></div></li><li class="step"><p>In the <span class="bold"><strong>Package name</strong></span> input, add the package name of your app.</p></li><li class="step"><p>In the <span class="bold"><strong>Track</strong></span> input, add the track where you want to deploy your APK (for example, alpha/beta/rollout/production or any custom track you set).</p></li></ol></div><div class="procedure tab-content" id="UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_procedure-idm33389060179998"><ol class="procedure tab-content" type="1"><li class="step"><p>If you're trying to deploy your <em class="glossterm">app</em> for the first time, <a class="link linktype-component" href="UUID-25541ce3-54ac-8236-74ba-60dc65ae3708.html#UUID-ad6a2dee-e494-fe6d-0770-05a99dda37a4_UUID-f154a82d-18a9-6953-d054-ccd152cfa76c" title="Setting up Google Play deployment for the first time">make sure your Google Play configuration is set up correctly</a> and that you <a class="link linktype-component" href="UUID-eec17a30-1fbc-c596-c3ab-b68772616ee3.html#UUID-058726e8-43e1-0385-f4b7-e2fff934ba79" title="Uploading files for your builds">uploaded your service account JSON key to Bitrise</a>.</p><div dir="ltr" class="note"><h3 class="title">Uploading the service account JSON key file</h3><p>We recommend uploading the service account JSON key to Bitrise but it is not mandatory: you can store it elsewhere and provide a direct link to it.</p></div></li><li class="step"><p>Open your app's <code class="filename">bitrise.yml</code> file and add the <code class="code">google-play-deploy</code> Step to it.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
</pre></li><li class="step"><p>In the <code class="code">service_account_json_key_path</code> input, you need to provide the path to the service account JSON key file.</p><p>If you uploaded the file to Bitrise, you can find the Env Var storing its download URL in the Generic File Storage in the Workflow Editor.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"</pre><p>If you didn't upload your service account JSON key to Bitrise, you can set a direct path in the input. The file path can point to a local or a remote location.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>For a remote JSON key file you can provide any download location as value, for example, <code class="code">https://URL/TO/key.json</code>.</p></li><li class="listitem"><p>For a local JSON key file you can provide a file path url as value, for example, <code class="code">file://PATH/TO/key.json</code>.</p></li></ul></div></li><li class="step"><p>In the <code class="code">package</code> input, add <a class="link" href="https://support.google.com/admob/answer/9972781?hl=en#:~:text=The%20package%20name%20of%20an,supported%20third%2Dparty%20Android%20stores." target="_blank" rel="noopener">the package name</a> of your app.</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"
      - package_name: myApp</pre></li><li class="step"><p>In the <code class="code">track</code> input, add the track where you want to deploy your app binary (for example, alpha/beta/rollout/production or any custom track you set).</p><pre class="programlisting">deploy-workflow:
  steps: 
  - google-play-deploy: 
      inputs:   
      - service_account_json_key_path: "$BITRISEIO_SERVICE_ACCOUNT_JSON_KEY_URL"
      - package_name: myApp
      - track: alpha</pre></li></ol></div><p>That’s all! Start or schedule a build and share the URL with external testers or distribute your app on an app store of your choice!</p></section></section></section><section xml:lang="en" lang="en" dir="ltr" class="section original-topic" data-origin-id="UUID-b2a83029-ee24-4016-f978-5b4531ce186a" data-publication-date="" id="UUID-f6e9580b-c503-3150-da84-f4fa1c5b65e9"><div class="titlepage"><div><div class="title"><h5 class="title">Exporting a universal APK from an AAB</h5></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>With Bitrise's Export Universal APK Step you can export a universal APK from the App Bundle, sign it with a keystore (or debug keystore), and deploy the APK to your test device before releasing the app to the Google Play Store.</p></div></div></div></div><p>You can test an Android app on a test device even if the generated artifact is an App Bundle (<code class="code">.aab</code>). With the <span class="bold"><strong>Export Universal APK</strong></span> <em class="glossterm">Step</em> you can export a universal APK from the App Bundle, sign it with a keystore (or debug keystore), and deploy the APK to your test device before releasing the app to the Google Play Store.</p><p>Configuring this Step is super simple:</p><p class="tabs is-active">Workflow Editor</p><p class="tabs">bitrise.yml</p><div class="procedure tab-content is-active"><ol class="procedure tab-content is-active" type="1"><li class="step"><p>Insert the <span class="bold"><strong>Export Universal APK</strong></span> Step after the <span class="bold"><strong>Android Build</strong></span> Step in your <em class="glossterm">Workflow</em>.</p></li><li class="step"><p>Make sure the <span class="bold"><strong>Android App Bundle path</strong></span> input's value is the output variable (<code class="envar">BITRISE_AAB_PATH</code>) of the previous build Step.</p><div dir="ltr" class="note"><h3 class="title">Using a different build Step</h3><p>If you don't use the <span class="bold"><strong>Android Build</strong></span> Step to build an AAB file, make sure that the input points to the AAB output of the Step you used. You can use an Environment Variable, or a direct local path or URL.</p></div></li><li class="step"><p>Make sure the <span class="guilabel">Keystore URL</span> input points to your Android keystore file.</p><p>We recommend uploading the file to Bitrise and using the default Env Var: <code class="envar">$BITRISEIO_ANDROID_KEYSTORE_URL</code>. You can, however, use a local path or a URL as input value here.</p></li><li class="step"><p>Provide your credentials in the <span class="bold"><strong>Keystore alias</strong></span> and the <span class="bold"><strong>Keystore password</strong></span> inputs.</p><p>If you uploaded a keystore file to Bitrise, the default value of the inputs should not need to be changed.</p></li><li class="step"><p>In the <span class="guilabel">Bundletool version</span> input, you can override the default Bundletool version if you need a specific one but make sure you use the <a class="link" href="https://github.com/google/bundletool/releases" target="_blank" rel="noopener">correct version</a>.</p></li><li class="step"><p>Run your Workflow.</p></li></ol></div><div class="procedure tab-content" id="UUID-f6e9580b-c503-3150-da84-f4fa1c5b65e9_procedure-idm33389389293670"><ol class="procedure tab-content" type="1"><li class="step"><p>In your app's <code class="filename">bitrise.yml</code> file, insert the <code class="code">bitrise-step-export-universal-apk</code> Step after the <code class="code">android-build</code> Step.</p><pre class="programlisting">my-workflow:
  steps:
    - android-build: {}
    - bitrise-step-export-universal-apk:
        inputs:
</pre></li><li class="step"><p>Make sure the <code class="code">aab_path</code> input's value is the output variable (<code class="envar">$BITRISE_AAB_PATH</code>) of the previous build Step.</p><div dir="ltr" class="note"><h3 class="title">Using a different build Step</h3><p>If you don't use the <code class="code">android-build</code> Step to build an AAB file, make sure that the input points to the AAB output of the Step you used. You can use an Environment Variable, or a direct local path or URL.</p></div><pre class="programlisting">my-workflow:
  steps:
    - android-build: {}
    - bitrise-step-export-universal-apk:
        inputs:
        - aab_path: "$BITRISE_AAB_PATH"
</pre></li><li class="step"><p>Make sure the <code class="code">keystore_url</code> input points to your Android keystore file.</p><p>We recommend uploading the file to Bitrise and using the default Env Var: <code class="envar">$BITRISEIO_ANDROID_KEYSTORE_URL</code>. You can, however, use a local path or a URL as input value here.</p><pre class="programlisting">my-workflow:
  steps:
    - android-build: {}
    - bitrise-step-export-universal-apk:
        inputs:
        - aab_path: "$BITRISE_AAB_PATH"
        - keystore_url: "$BITRISEIO_ANDROID_KEYSTORE_URL"
</pre></li><li class="step"><p>Provide your credentials in the <code class="code">keystore_alias</code> and the <code class="code">keystore_password</code> inputs.</p><p>If you uploaded a keystore file to Bitrise, the default value of the inputs should not need to be changed. Otherwise store your credentials in a <a class="link linktype-component" href="UUID-bfc35b35-3895-2edb-471b-ab040993c3bf.html" title="Secrets">Secret</a> and use the Secrets as the input values.</p><pre class="programlisting">my-workflow:
  steps:
    - android-build: {}
    - bitrise-step-export-universal-apk:
        inputs:
        - aab_path: "$BITRISE_AAB_PATH"
        - keystore_url: "$BITRISEIO_ANDROID_KEYSTORE_URL"
        - keystore_password: "$BITRISEIO_ANDROID_KEYSTORE_PASSWORD"
        - keystore_alias: "$BITRISEIO_ANDROID_KEYSTORE_ALIAS"
</pre></li><li class="step"><p>In the <code class="code">bundletool_version</code> input, you can override the default Bundletool version if you need a specific one but make sure you use the <a class="link" href="https://github.com/google/bundletool/releases" target="_blank" rel="noopener">correct version</a>.</p><pre class="programlisting">my-workflow:
  steps:
    - android-build: {}
    - bitrise-step-export-universal-apk:
        inputs:
        - aab_path: "$BITRISE_AAB_PATH"
        - keystore_url: "$BITRISEIO_ANDROID_KEYSTORE_URL"
        - keystore_password: "$BITRISEIO_ANDROID_KEYSTORE_PASSWORD"
        - keystore_alias: "$BITRISEIO_ANDROID_KEYSTORE_ALIAS"
        - bundletool_version: 1.8.1
</pre></li><li class="step"><p>Run your Workflow.</p></li></ol></div><p>The <span class="bold"><strong>Export Universal APK</strong></span> Step exports the APK to the <code class="code">$BITRISE_APK_PATH</code> Environment Variable which the next Steps can pick up. If the <span class="bold"><strong>Deploy to Bitrise.io</strong></span> Step is included in your Workflow, the Ship add-on can deploy the APK for you.</p></section></section><div class="footer-content"><div class="additional-links"></div></div><footer></footer></div></div></div></div></div></div></body></html>
